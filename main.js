(()=>{var n={705:n=>{"use strict";n.exports=function(n){var e=[];return e.toString=function(){return this.map((function(e){var t="",r=void 0!==e[5];return e[4]&&(t+="@supports (".concat(e[4],") {")),e[2]&&(t+="@media ".concat(e[2]," {")),r&&(t+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),t+=n(e),r&&(t+="}"),e[2]&&(t+="}"),e[4]&&(t+="}"),t})).join("")},e.i=function(n,t,r,o,a){"string"==typeof n&&(n=[[null,n,void 0]]);var i={};if(r)for(var s=0;s<this.length;s++){var c=this[s][0];null!=c&&(i[c]=!0)}for(var A=0;A<n.length;A++){var l=[].concat(n[A]);r&&i[l[0]]||(void 0!==a&&(void 0===l[5]||(l[1]="@layer".concat(l[5].length>0?" ".concat(l[5]):""," {").concat(l[1],"}")),l[5]=a),t&&(l[2]?(l[1]="@media ".concat(l[2]," {").concat(l[1],"}"),l[2]=t):l[2]=t),o&&(l[4]?(l[1]="@supports (".concat(l[4],") {").concat(l[1],"}"),l[4]=o):l[4]="".concat(o)),e.push(l))}},e}},476:n=>{"use strict";n.exports=function(n){var e=n[1],t=n[3];if(!t)return e;if("function"==typeof btoa){var r=btoa(unescape(encodeURIComponent(JSON.stringify(t)))),o="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(r),a="/*# ".concat(o," */");return[e].concat([a]).join("\n")}return[e].join("\n")}},96:function(n,e,t){n=t.nmd(n),function(t,r){"use strict";var o={};t.PubSub?(o=t.PubSub,console.warn("PubSub already loaded, using existing version")):(t.PubSub=o,function(n){var e={},t=-1,r="*";function o(n,e,t){try{n(e,t)}catch(n){setTimeout(function(n){return function(){throw n}}(n),0)}}function a(n,e,t){n(e,t)}function i(n,t,r,i){var s,c=e[t],A=i?a:o;if(Object.prototype.hasOwnProperty.call(e,t))for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&A(c[s],n,r)}function s(n){var t=String(n);return Boolean(Object.prototype.hasOwnProperty.call(e,t)&&function(n){var e;for(e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!0;return!1}(e[t]))}function c(n,e,t,o){var a=function(n,e,t){return function(){var o=String(n),a=o.lastIndexOf(".");for(i(n,n,e,t);-1!==a;)a=(o=o.substr(0,a)).lastIndexOf("."),i(n,o,e,t);i(n,r,e,t)}}(n="symbol"==typeof n?n.toString():n,e,o);return!!function(n){for(var e=String(n),t=s(e)||s(r),o=e.lastIndexOf(".");!t&&-1!==o;)o=(e=e.substr(0,o)).lastIndexOf("."),t=s(e);return t}(n)&&(!0===t?a():setTimeout(a,0),!0)}n.publish=function(e,t){return c(e,t,!1,n.immediateExceptions)},n.publishSync=function(e,t){return c(e,t,!0,n.immediateExceptions)},n.subscribe=function(n,r){if("function"!=typeof r)return!1;n="symbol"==typeof n?n.toString():n,Object.prototype.hasOwnProperty.call(e,n)||(e[n]={});var o="uid_"+String(++t);return e[n][o]=r,o},n.subscribeAll=function(e){return n.subscribe(r,e)},n.subscribeOnce=function(e,t){var r=n.subscribe(e,(function(){n.unsubscribe(r),t.apply(this,arguments)}));return n},n.clearAllSubscriptions=function(){e={}},n.clearSubscriptions=function(n){var t;for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&0===t.indexOf(n)&&delete e[t]},n.countSubscriptions=function(n){var t,r,o=0;for(t in e)if(Object.prototype.hasOwnProperty.call(e,t)&&0===t.indexOf(n)){for(r in e[t])o++;break}return o},n.getSubscriptions=function(n){var t,r=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&0===t.indexOf(n)&&r.push(t);return r},n.unsubscribe=function(t){var r,o,a,i="string"==typeof t&&(Object.prototype.hasOwnProperty.call(e,t)||function(n){var t;for(t in e)if(Object.prototype.hasOwnProperty.call(e,t)&&0===t.indexOf(n))return!0;return!1}(t)),s=!i&&"string"==typeof t,c="function"==typeof t,A=!1;if(!i){for(r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(o=e[r],s&&o[t]){delete o[t],A=t;break}if(c)for(a in o)Object.prototype.hasOwnProperty.call(o,a)&&o[a]===t&&(delete o[a],A=!0)}return A}n.clearSubscriptions(t)}}(o)),void 0!==n&&n.exports&&(e=n.exports=o),e.PubSub=o,n.exports=e=o}("object"==typeof window&&window||this)},426:(n,e,t)=>{"use strict";t.d(e,{Z:()=>s});var r=t(476),o=t.n(r),a=t(705),i=t.n(a)()(o());i.push([n.id,"@import url(https://fonts.googleapis.com/css2?family=Big+Shoulders+Stencil+Text:wght@900&family=Inter:wght@400;600&display=swap);"]),i.push([n.id,':root {\n  --blue-outline: #0d5f8b;\n  --blue-dark: #0f1a3e;\n  --blue: #1a95cd;\n  --grey: yellowgreen;\n}\n\nbody {\n  background: var(--blue-dark);\n  position: relative;\n  margin: 0;\n  height: 100vh;\n}\n\n* {\n  box-sizing: border-box;\n}\n\n.header {\n  display: flex;\n  justify-content: center;\n}\n\nh1 {\n  width: min-content;\n  font-family: "Big Shoulders Stencil Text", sans-serif;\n  font-size: 100px;\n  margin-top: 30px;\n  margin-bottom: 80px;\n  color: #ffffff;\n  border: 10px solid #ffffff;\n  border-radius: 20px;\n  padding: 10px 20px;\n}\n\n.content {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-wrap: wrap;\n  padding: 0 40px;\n  gap: 50px;\n}\n\n.grid {\n  display: grid;\n  grid-template-columns: repeat(10, 40px);\n  grid-template-rows: repeat(10, 40px);\n  gap: 4px;\n  width: min-content;\n\n  background: var(--blue-outline);\n  padding: 4px;\n}\n\n.cell {\n  background: var(--blue);\n  position: relative;\n}\n\n.cell:hover {\n  filter: brightness(0.85);\n}\n\n.playerOne > .ship {\n  background: var(--grey);\n}\n\n.hit::before,\n.hit.ship::before {\n  content: "";\n  position: absolute;\n  top: 6px;\n  bottom: 6px;\n  left: 6px;\n  right: 6px;\n\n  background: rgb(255, 255, 255);\n  border-radius: 32px;\n}\n\n.hit.ship::before {\n  background: rgb(210, 69, 69);\n}\n\n/* Ship Selection */\n\n.shipSelection {\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n  padding: 10px;\n  width: 300px;\n  min-height: 444px;\n  background: var(--blue);\n  border: 4px solid var(--blue-outline);\n}\n\n.shipSelection > p {\n  margin: 0;\n  font-family: "Inter", sans-serif;\n  font-weight: 600;\n  color: var(--blue-outline);\n}\n\n.shipDiv {\n  flex: 1;\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n  align-items: center;\n  align-content: center;\n  gap: 8px;\n  height: 100%;\n}\n\n.shipDiv > .ship {\n  display: flex;\n  flex-direction: column;\n  gap: 4px;\n\n  height: min-content;\n\n  background: var(--blue-outline);\n  padding: 4px;\n}\n\n.shipDiv > .ship[data-axis="y"] {\n  flex-direction: row;\n}\n\n.shipDiv > .ship > * {\n  height: 40px;\n  width: 40px;\n  background: var(--grey);\n}\n\n/* Modal */\n\n.modalBg {\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  background: #00000065;\n\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n\n.modal {\n  height: 300px;\n  width: 500px;\n  background: white;\n  padding: 20px;\n  border-radius: 14px;\n\n  display: flex;\n  flex-direction: column;\n  justify-content: space-evenly;\n  align-items: center;\n}\n\n.modal > .text,\n.modal > .button {\n  font-size: 40px;\n  font-family: "inter", sans-serif;\n  font-weight: 400;\n}\n\n.modal > .text {\n  color: var(--blue-dark);\n}\n.modal > .button {\n  color: white;\n  background: var(--blue-dark);\n  padding: 12px 24px;\n  border-radius: 10px;\n  transition: 200ms;\n}\n\n.modal > .button:hover {\n  transform: scale(1.05);\n  cursor: pointer;\n}\n',"",{version:3,sources:["webpack://./src/style.css"],names:[],mappings:"AACA;EACE,uBAAuB;EACvB,oBAAoB;EACpB,eAAe;EACf,mBAAmB;AACrB;;AAEA;EACE,4BAA4B;EAC5B,kBAAkB;EAClB,SAAS;EACT,aAAa;AACf;;AAEA;EACE,sBAAsB;AACxB;;AAEA;EACE,aAAa;EACb,uBAAuB;AACzB;;AAEA;EACE,kBAAkB;EAClB,qDAAqD;EACrD,gBAAgB;EAChB,gBAAgB;EAChB,mBAAmB;EACnB,cAAc;EACd,0BAA0B;EAC1B,mBAAmB;EACnB,kBAAkB;AACpB;;AAEA;EACE,aAAa;EACb,uBAAuB;EACvB,mBAAmB;EACnB,eAAe;EACf,eAAe;EACf,SAAS;AACX;;AAEA;EACE,aAAa;EACb,uCAAuC;EACvC,oCAAoC;EACpC,QAAQ;EACR,kBAAkB;;EAElB,+BAA+B;EAC/B,YAAY;AACd;;AAEA;EACE,uBAAuB;EACvB,kBAAkB;AACpB;;AAEA;EACE,wBAAwB;AAC1B;;AAEA;EACE,uBAAuB;AACzB;;AAEA;;EAEE,WAAW;EACX,kBAAkB;EAClB,QAAQ;EACR,WAAW;EACX,SAAS;EACT,UAAU;;EAEV,8BAA8B;EAC9B,mBAAmB;AACrB;;AAEA;EACE,4BAA4B;AAC9B;;AAEA,mBAAmB;;AAEnB;EACE,aAAa;EACb,sBAAsB;EACtB,QAAQ;EACR,aAAa;EACb,YAAY;EACZ,iBAAiB;EACjB,uBAAuB;EACvB,qCAAqC;AACvC;;AAEA;EACE,SAAS;EACT,gCAAgC;EAChC,gBAAgB;EAChB,0BAA0B;AAC5B;;AAEA;EACE,OAAO;EACP,aAAa;EACb,eAAe;EACf,uBAAuB;EACvB,mBAAmB;EACnB,qBAAqB;EACrB,QAAQ;EACR,YAAY;AACd;;AAEA;EACE,aAAa;EACb,sBAAsB;EACtB,QAAQ;;EAER,mBAAmB;;EAEnB,+BAA+B;EAC/B,YAAY;AACd;;AAEA;EACE,mBAAmB;AACrB;;AAEA;EACE,YAAY;EACZ,WAAW;EACX,uBAAuB;AACzB;;AAEA,UAAU;;AAEV;EACE,kBAAkB;EAClB,MAAM;EACN,SAAS;EACT,OAAO;EACP,QAAQ;EACR,qBAAqB;;EAErB,aAAa;EACb,uBAAuB;EACvB,mBAAmB;AACrB;;AAEA;EACE,aAAa;EACb,YAAY;EACZ,iBAAiB;EACjB,aAAa;EACb,mBAAmB;;EAEnB,aAAa;EACb,sBAAsB;EACtB,6BAA6B;EAC7B,mBAAmB;AACrB;;AAEA;;EAEE,eAAe;EACf,gCAAgC;EAChC,gBAAgB;AAClB;;AAEA;EACE,uBAAuB;AACzB;AACA;EACE,YAAY;EACZ,4BAA4B;EAC5B,kBAAkB;EAClB,mBAAmB;EACnB,iBAAiB;AACnB;;AAEA;EACE,sBAAsB;EACtB,eAAe;AACjB",sourcesContent:['@import url("https://fonts.googleapis.com/css2?family=Big+Shoulders+Stencil+Text:wght@900&family=Inter:wght@400;600&display=swap");\n:root {\n  --blue-outline: #0d5f8b;\n  --blue-dark: #0f1a3e;\n  --blue: #1a95cd;\n  --grey: yellowgreen;\n}\n\nbody {\n  background: var(--blue-dark);\n  position: relative;\n  margin: 0;\n  height: 100vh;\n}\n\n* {\n  box-sizing: border-box;\n}\n\n.header {\n  display: flex;\n  justify-content: center;\n}\n\nh1 {\n  width: min-content;\n  font-family: "Big Shoulders Stencil Text", sans-serif;\n  font-size: 100px;\n  margin-top: 30px;\n  margin-bottom: 80px;\n  color: #ffffff;\n  border: 10px solid #ffffff;\n  border-radius: 20px;\n  padding: 10px 20px;\n}\n\n.content {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-wrap: wrap;\n  padding: 0 40px;\n  gap: 50px;\n}\n\n.grid {\n  display: grid;\n  grid-template-columns: repeat(10, 40px);\n  grid-template-rows: repeat(10, 40px);\n  gap: 4px;\n  width: min-content;\n\n  background: var(--blue-outline);\n  padding: 4px;\n}\n\n.cell {\n  background: var(--blue);\n  position: relative;\n}\n\n.cell:hover {\n  filter: brightness(0.85);\n}\n\n.playerOne > .ship {\n  background: var(--grey);\n}\n\n.hit::before,\n.hit.ship::before {\n  content: "";\n  position: absolute;\n  top: 6px;\n  bottom: 6px;\n  left: 6px;\n  right: 6px;\n\n  background: rgb(255, 255, 255);\n  border-radius: 32px;\n}\n\n.hit.ship::before {\n  background: rgb(210, 69, 69);\n}\n\n/* Ship Selection */\n\n.shipSelection {\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n  padding: 10px;\n  width: 300px;\n  min-height: 444px;\n  background: var(--blue);\n  border: 4px solid var(--blue-outline);\n}\n\n.shipSelection > p {\n  margin: 0;\n  font-family: "Inter", sans-serif;\n  font-weight: 600;\n  color: var(--blue-outline);\n}\n\n.shipDiv {\n  flex: 1;\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n  align-items: center;\n  align-content: center;\n  gap: 8px;\n  height: 100%;\n}\n\n.shipDiv > .ship {\n  display: flex;\n  flex-direction: column;\n  gap: 4px;\n\n  height: min-content;\n\n  background: var(--blue-outline);\n  padding: 4px;\n}\n\n.shipDiv > .ship[data-axis="y"] {\n  flex-direction: row;\n}\n\n.shipDiv > .ship > * {\n  height: 40px;\n  width: 40px;\n  background: var(--grey);\n}\n\n/* Modal */\n\n.modalBg {\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  background: #00000065;\n\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n\n.modal {\n  height: 300px;\n  width: 500px;\n  background: white;\n  padding: 20px;\n  border-radius: 14px;\n\n  display: flex;\n  flex-direction: column;\n  justify-content: space-evenly;\n  align-items: center;\n}\n\n.modal > .text,\n.modal > .button {\n  font-size: 40px;\n  font-family: "inter", sans-serif;\n  font-weight: 400;\n}\n\n.modal > .text {\n  color: var(--blue-dark);\n}\n.modal > .button {\n  color: white;\n  background: var(--blue-dark);\n  padding: 12px 24px;\n  border-radius: 10px;\n  transition: 200ms;\n}\n\n.modal > .button:hover {\n  transform: scale(1.05);\n  cursor: pointer;\n}\n'],sourceRoot:""}]);const s=i},379:n=>{"use strict";var e=[];function t(n){for(var t=-1,r=0;r<e.length;r++)if(e[r].identifier===n){t=r;break}return t}function r(n,r){for(var a={},i=[],s=0;s<n.length;s++){var c=n[s],A=r.base?c[0]+r.base:c[0],l=a[A]||0,p="".concat(A," ").concat(l);a[A]=l+1;var d=t(p),u={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==d)e[d].references++,e[d].updater(u);else{var f=o(u,r);r.byIndex=s,e.splice(s,0,{identifier:p,updater:f,references:1})}i.push(p)}return i}function o(n,e){var t=e.domAPI(e);return t.update(n),function(e){if(e){if(e.css===n.css&&e.media===n.media&&e.sourceMap===n.sourceMap&&e.supports===n.supports&&e.layer===n.layer)return;t.update(n=e)}else t.remove()}}n.exports=function(n,o){var a=r(n=n||[],o=o||{});return function(n){n=n||[];for(var i=0;i<a.length;i++){var s=t(a[i]);e[s].references--}for(var c=r(n,o),A=0;A<a.length;A++){var l=t(a[A]);0===e[l].references&&(e[l].updater(),e.splice(l,1))}a=c}}},569:n=>{"use strict";var e={};n.exports=function(n,t){var r=function(n){if(void 0===e[n]){var t=document.querySelector(n);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(n){t=null}e[n]=t}return e[n]}(n);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(t)}},216:n=>{"use strict";n.exports=function(n){var e=document.createElement("style");return n.setAttributes(e,n.attributes),n.insert(e,n.options),e}},565:(n,e,t)=>{"use strict";n.exports=function(n){var e=t.nc;e&&n.setAttribute("nonce",e)}},795:n=>{"use strict";n.exports=function(n){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var e=n.insertStyleElement(n);return{update:function(t){!function(n,e,t){var r="";t.supports&&(r+="@supports (".concat(t.supports,") {")),t.media&&(r+="@media ".concat(t.media," {"));var o=void 0!==t.layer;o&&(r+="@layer".concat(t.layer.length>0?" ".concat(t.layer):""," {")),r+=t.css,o&&(r+="}"),t.media&&(r+="}"),t.supports&&(r+="}");var a=t.sourceMap;a&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),e.styleTagTransform(r,n,e.options)}(e,n,t)},remove:function(){!function(n){if(null===n.parentNode)return!1;n.parentNode.removeChild(n)}(e)}}}},589:n=>{"use strict";n.exports=function(n,e){if(e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}}},e={};function t(r){var o=e[r];if(void 0!==o)return o.exports;var a=e[r]={id:r,loaded:!1,exports:{}};return n[r].call(a.exports,a,a.exports,t),a.loaded=!0,a.exports}t.n=n=>{var e=n&&n.__esModule?()=>n.default:()=>n;return t.d(e,{a:e}),e},t.d=(n,e)=>{for(var r in e)t.o(e,r)&&!t.o(n,r)&&Object.defineProperty(n,r,{enumerable:!0,get:e[r]})},t.o=(n,e)=>Object.prototype.hasOwnProperty.call(n,e),t.nmd=n=>(n.paths=[],n.children||(n.children=[]),n),t.nc=void 0,(()=>{"use strict";var n=t(96),e=t.n(n);const r=(n="Player")=>{const t=(()=>{let n=0;const e=Array(10).fill().map((()=>Array(10).fill({isHit:!1})));return{getBoard:()=>e,placeShip:(t,r,o,a)=>{if("x"===a){if(t+o-1>9)throw new Error("Placement out of bounds")}else{if("y"!==a)throw new Error("Invalid axis prop");if(r-o+1<0)throw new Error("Placement out of bounds")}for(let n=0;n<o;n+=1){const o="x"===a?t+n:t,i="y"===a?r-n:r;if(Object.prototype.hasOwnProperty.call(e[o][i],"ship"))throw new Error("Invalid placement: Ships cannot overlap")}const i=(n=>{let e=0;return{hit:()=>(e<n&&(e+=1),e),isSunk:()=>e>=n,getHits:()=>e}})(o);for(let n=0;n<o;n+=1){const o="x"===a?t+n:t,s="y"===a?r-n:r;e[o][s]={...e[o][s],ship:i}}n+=1},receiveAttack:(t,r)=>{if(e[t][r].isHit)throw new Error("Cell has already been hit");Object.prototype.hasOwnProperty.call(e[t][r],"ship")&&(e[t][r].ship.hit(),e[t][r].ship.isSunk()&&(n-=1)),e[t][r]={...e[t][r],isHit:!0}},hasNoShips:()=>0===n}})();let r;const o=(r,o,a,i)=>{t.placeShip(parseInt(r,10),parseInt(o,10),parseInt(a,10),i),e().publish("SHIP_PLACED",{player:n,x:r,y:o,length:a,axis:i})};return e().subscribe("RQST_PLACE_SHIP",((e,{x:t,y:r,length:a,axis:i,player:s})=>{if(s===n)try{o(t,r,a,i)}catch{}})),{...t,getName:()=>n,setOpponent:n=>{r=n},attack:(n,e)=>r.receiveAttack(n,e),receiveAttack:(r,o)=>{t.receiveAttack(r,o),e().publish("ATTACK_RECEIVED",{player:n,x:r,y:o})},placeShip:o}};var o=t(379),a=t.n(o),i=t(795),s=t.n(i),c=t(569),A=t.n(c),l=t(565),p=t.n(l),d=t(216),u=t.n(d),f=t(589),h=t.n(f),E=t(426),b={};b.styleTagTransform=h(),b.setAttributes=p(),b.insert=A().bind(null,"head"),b.domAPI=s(),b.insertStyleElement=u(),a()(E.Z,b),E.Z&&E.Z.locals&&E.Z.locals;const g=[2,3,3,4,5],m=r("playerOne"),x=(()=>{const n=r("playerTwo");return{...n,placeShip:e=>{for(let t=0;t<100;t+=1)try{const t=Math.floor(10*Math.random()),r=Math.floor(10*Math.random()),o=0===Math.floor(2*Math.random())?"x":"y";return void n.placeShip(t,r,e,o)}catch(n){}throw new Error("Unable to generate ship placement")},attack:()=>{for(let e=0;e<100;e+=1)try{const e=Math.floor(10*Math.random()),t=Math.floor(10*Math.random());return void n.attack(e,t)}catch(n){}}}})(),C=((n,t,r)=>{n.setOpponent(t),t.setOpponent(n);const o=(r,{x:o,y:a})=>{n.attack(o,a),t.hasNoShips()?e().publish("GAME_OVER",{winner:n.getName()}):(t.attack(),n.hasNoShips()&&e().publish("GAME_OVER",{winner:t.getName()}))};return e().subscribe("ATTACK_CELL",o),{setup:()=>{r.forEach((n=>t.placeShip(n)))},play:o}})(m,x,g),y=(()=>{const n=(n,t)=>{const r=document.createElement("div");return r.dataset.x=n,r.dataset.y=t,r.classList.add("cell"),r.addEventListener("dragover",(n=>{n.preventDefault(),n.dataTransfer.dropEffect="move"})),r.addEventListener("drop",(n=>{n.preventDefault();const t=JSON.parse(n.dataTransfer.getData("text/plain")),r=parseInt(n.currentTarget.dataset.x,10),o=parseInt(n.currentTarget.dataset.y,10);e().publish("RQST_PLACE_SHIP",{...t,x:"x"===t.axis?r-t.cell:r,y:"y"===t.axis?o+t.cell:o})})),r},t=n=>{e().publish("ATTACK_CELL",{x:n.currentTarget.dataset.x,y:n.currentTarget.dataset.y}),n.currentTarget.removeEventListener("click",t)},r=e=>{const r=document.createElement("div");r.classList.add("grid",e);for(let o=0;o<10;o+=1)for(let a=0;a<10;a+=1){const i=n(o,a);"playerOne"!==e&&i.addEventListener("click",t),r.appendChild(i)}return r},o=n=>{document.querySelector(".content").appendChild(r(n))},a=n=>{const{axis:e,length:t}=n.currentTarget.dataset;if("x"===e){const e=n.currentTarget.offsetHeight/t;return Math.floor(n.offsetY/e)}const r=n.currentTarget.offsetWidth/t;return Math.floor((n.currentTarget.offsetWidth-n.offsetX)/r)};return e().subscribe("SHIP_PLACED",((n,{player:t,x:r,y:o,length:a,axis:i})=>{const s=document.querySelector(`.grid.${t}`),c=parseInt(r,10),A=parseInt(o,10);for(let n=0;n<a;n+=1){const e="x"===i?c+n:c,t="y"===i?A-n:A;s.querySelector(`[data-x='${e}'][data-y='${t}']`).classList.add("ship")}const l=document.querySelector(`.ship[data-length='${a}']`);if(!l)return;l.remove();const p=document.querySelector(".shipDiv");p.hasChildNodes()||(p.parentNode.remove(),e().publish("ALL_SHIPS_PLACED"))})),e().subscribe("ATTACK_RECEIVED",((n,{player:e,x:t,y:r})=>{document.querySelector(`.grid.${e}`).querySelector(`[data-x='${t}'][data-y='${r}']`).classList.add("hit")})),e().subscribe("GAME_OVER",((n,{winner:e})=>{document.querySelectorAll(".playerTwo>.cell").forEach((n=>n.removeEventListener("click",t)));const r=document.querySelector(".content"),o=document.createElement("div"),a=document.createElement("div"),i=document.createElement("div"),s=document.createElement("div");o.classList.add("modalBg"),a.classList.add("modal"),i.classList.add("text"),s.classList.add("button"),i.textContent="You "+("playerOne"===e?"won":"lost"),s.textContent="Play again",s.addEventListener("click",(()=>window.location.reload())),a.appendChild(i),a.appendChild(s),o.appendChild(a),r.appendChild(o)})),{getCell:n,getGrid:r,newGrid:o,boardSetup:(n,e)=>{o("playerOne");const t=document.querySelector(".content"),r=document.createElement("div");r.classList.add("shipSelection");const i=document.createElement("p");i.textContent="Double click to rotate";const s=document.createElement("div");s.classList.add("shipDiv"),e.forEach((e=>{const t=document.createElement("div");t.dataset.length=e,t.dataset.axis="x",t.classList.add("ship"),t.draggable=!0,t.addEventListener("dragstart",(e=>{e.dataTransfer.setData("text/plain",JSON.stringify({length:e.currentTarget.dataset.length,axis:e.currentTarget.dataset.axis,cell:a(e),player:n}))})),t.addEventListener("dblclick",(n=>{const e=n.currentTarget;e.dataset.axis="x"===e.dataset.axis?"y":"x"}));for(let n=0;n<e;n+=1){const n=document.createElement("div");t.appendChild(n)}s.appendChild(t)})),r.appendChild(i),r.appendChild(s),t.appendChild(r)}}})();y.boardSetup(m.getName(),g),e().subscribe("ALL_SHIPS_PLACED",(()=>{C.setup(),y.newGrid(x.getName())}))})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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cUMsUUFDakIsYUFDQWpQLEtBQUtDLFVBQVUsQ0FDYnBCLE9BQVE2TixFQUFNTyxjQUFjWCxRQUFRek4sT0FDcENvTCxLQUFNeUMsRUFBTU8sY0FBY1gsUUFBUXJDLEtBQ2xDb0MsS0FBTW1CLEVBQWtCZCxHQUN4QjVCLFdBRUgsSUFHSGlFLEVBQVl0QyxpQkFBaUIsWUFBYUMsSUFDeEMsTUFBTXdDLEVBQU94QyxFQUFNTyxjQUNuQmlDLEVBQUs1QyxRQUFRckMsS0FBNkIsTUFBdEJpRixFQUFLNUMsUUFBUXJDLEtBQWUsSUFBTSxHQUFHLElBRzNELElBQUssSUFBSWxMLEVBQUksRUFBR0EsRUFBSXFMLEVBQU1yTCxHQUFLLEVBQUcsQ0FDaEMsTUFBTXNOLEVBQU85RixTQUFTVSxjQUFjLE9BQ3BDOEgsRUFBWWhJLFlBQVlzRixFQUMxQixDQUVBMkIsRUFBUWpILFlBQVlnSSxFQUFZLElBR2xDRixFQUFjOUgsWUFBWStILEdBQzFCRCxFQUFjOUgsWUFBWWlILEdBQzFCSSxFQUFVckgsWUFBWThILEVBQWMsRUFZckMsRUZoTGExQyxHQUVoQkQsRUFBUTBDLFdBQVd2RCxFQUFVTCxVQUFXSSxHQUV4QzlLLElBQUFBLFVBQWlCLG9CQUFvQixLQUNuQ3NMLEVBQUtJLFFBQ0xFLEVBQVFxQixRQUFRakMsRUFBVU4sVUFBVSxHIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbXktd2VicGFjay1wcm9qZWN0Ly4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qcyIsIndlYnBhY2s6Ly9teS13ZWJwYWNrLXByb2plY3QvLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvc291cmNlTWFwcy5qcyIsIndlYnBhY2s6Ly9teS13ZWJwYWNrLXByb2plY3QvLi9ub2RlX21vZHVsZXMvcHVic3ViLWpzL3NyYy9wdWJzdWIuanMiLCJ3ZWJwYWNrOi8vbXktd2VicGFjay1wcm9qZWN0Ly4vc3JjL3N0eWxlLmNzcyIsIndlYnBhY2s6Ly9teS13ZWJwYWNrLXByb2plY3QvLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbmplY3RTdHlsZXNJbnRvU3R5bGVUYWcuanMiLCJ3ZWJwYWNrOi8vbXktd2VicGFjay1wcm9qZWN0Ly4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5zZXJ0QnlTZWxlY3Rvci5qcyIsIndlYnBhY2s6Ly9teS13ZWJwYWNrLXByb2plY3QvLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbnNlcnRTdHlsZUVsZW1lbnQuanMiLCJ3ZWJwYWNrOi8vbXktd2VicGFjay1wcm9qZWN0Ly4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc2V0QXR0cmlidXRlc1dpdGhvdXRBdHRyaWJ1dGVzLmpzIiwid2VicGFjazovL215LXdlYnBhY2stcHJvamVjdC8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3N0eWxlRG9tQVBJLmpzIiwid2VicGFjazovL215LXdlYnBhY2stcHJvamVjdC8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3N0eWxlVGFnVHJhbnNmb3JtLmpzIiwid2VicGFjazovL215LXdlYnBhY2stcHJvamVjdC93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9teS13ZWJwYWNrLXByb2plY3Qvd2VicGFjay9ydW50aW1lL2NvbXBhdCBnZXQgZGVmYXVsdCBleHBvcnQiLCJ3ZWJwYWNrOi8vbXktd2VicGFjay1wcm9qZWN0L3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly9teS13ZWJwYWNrLXByb2plY3Qvd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly9teS13ZWJwYWNrLXByb2plY3Qvd2VicGFjay9ydW50aW1lL25vZGUgbW9kdWxlIGRlY29yYXRvciIsIndlYnBhY2s6Ly9teS13ZWJwYWNrLXByb2plY3Qvd2VicGFjay9ydW50aW1lL25vbmNlIiwid2VicGFjazovL215LXdlYnBhY2stcHJvamVjdC8uL3NyYy9HYW1lQ29udHJvbGxlci5qcyIsIndlYnBhY2s6Ly9teS13ZWJwYWNrLXByb2plY3QvLi9zcmMvUGxheWVyLmpzIiwid2VicGFjazovL215LXdlYnBhY2stcHJvamVjdC8uL3NyYy9HYW1lYm9hcmQuanMiLCJ3ZWJwYWNrOi8vbXktd2VicGFjay1wcm9qZWN0Ly4vc3JjL1NoaXAuanMiLCJ3ZWJwYWNrOi8vbXktd2VicGFjay1wcm9qZWN0Ly4vc3JjL3N0eWxlLmNzcz83MTYzIiwid2VicGFjazovL215LXdlYnBhY2stcHJvamVjdC8uL3NyYy9pbmRleC5qcyIsIndlYnBhY2s6Ly9teS13ZWJwYWNrLXByb2plY3QvLi9zcmMvQUlQbGF5ZXIuanMiLCJ3ZWJwYWNrOi8vbXktd2VicGFjay1wcm9qZWN0Ly4vc3JjL0Rpc3BsYXlDb250cm9sbGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG4vKlxuICBNSVQgTGljZW5zZSBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLnBocFxuICBBdXRob3IgVG9iaWFzIEtvcHBlcnMgQHNva3JhXG4qL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoY3NzV2l0aE1hcHBpbmdUb1N0cmluZykge1xuICB2YXIgbGlzdCA9IFtdO1xuXG4gIC8vIHJldHVybiB0aGUgbGlzdCBvZiBtb2R1bGVzIGFzIGNzcyBzdHJpbmdcbiAgbGlzdC50b1N0cmluZyA9IGZ1bmN0aW9uIHRvU3RyaW5nKCkge1xuICAgIHJldHVybiB0aGlzLm1hcChmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgdmFyIGNvbnRlbnQgPSBcIlwiO1xuICAgICAgdmFyIG5lZWRMYXllciA9IHR5cGVvZiBpdGVtWzVdICE9PSBcInVuZGVmaW5lZFwiO1xuICAgICAgaWYgKGl0ZW1bNF0pIHtcbiAgICAgICAgY29udGVudCArPSBcIkBzdXBwb3J0cyAoXCIuY29uY2F0KGl0ZW1bNF0sIFwiKSB7XCIpO1xuICAgICAgfVxuICAgICAgaWYgKGl0ZW1bMl0pIHtcbiAgICAgICAgY29udGVudCArPSBcIkBtZWRpYSBcIi5jb25jYXQoaXRlbVsyXSwgXCIge1wiKTtcbiAgICAgIH1cbiAgICAgIGlmIChuZWVkTGF5ZXIpIHtcbiAgICAgICAgY29udGVudCArPSBcIkBsYXllclwiLmNvbmNhdChpdGVtWzVdLmxlbmd0aCA+IDAgPyBcIiBcIi5jb25jYXQoaXRlbVs1XSkgOiBcIlwiLCBcIiB7XCIpO1xuICAgICAgfVxuICAgICAgY29udGVudCArPSBjc3NXaXRoTWFwcGluZ1RvU3RyaW5nKGl0ZW0pO1xuICAgICAgaWYgKG5lZWRMYXllcikge1xuICAgICAgICBjb250ZW50ICs9IFwifVwiO1xuICAgICAgfVxuICAgICAgaWYgKGl0ZW1bMl0pIHtcbiAgICAgICAgY29udGVudCArPSBcIn1cIjtcbiAgICAgIH1cbiAgICAgIGlmIChpdGVtWzRdKSB7XG4gICAgICAgIGNvbnRlbnQgKz0gXCJ9XCI7XG4gICAgICB9XG4gICAgICByZXR1cm4gY29udGVudDtcbiAgICB9KS5qb2luKFwiXCIpO1xuICB9O1xuXG4gIC8vIGltcG9ydCBhIGxpc3Qgb2YgbW9kdWxlcyBpbnRvIHRoZSBsaXN0XG4gIGxpc3QuaSA9IGZ1bmN0aW9uIGkobW9kdWxlcywgbWVkaWEsIGRlZHVwZSwgc3VwcG9ydHMsIGxheWVyKSB7XG4gICAgaWYgKHR5cGVvZiBtb2R1bGVzID09PSBcInN0cmluZ1wiKSB7XG4gICAgICBtb2R1bGVzID0gW1tudWxsLCBtb2R1bGVzLCB1bmRlZmluZWRdXTtcbiAgICB9XG4gICAgdmFyIGFscmVhZHlJbXBvcnRlZE1vZHVsZXMgPSB7fTtcbiAgICBpZiAoZGVkdXBlKSB7XG4gICAgICBmb3IgKHZhciBrID0gMDsgayA8IHRoaXMubGVuZ3RoOyBrKyspIHtcbiAgICAgICAgdmFyIGlkID0gdGhpc1trXVswXTtcbiAgICAgICAgaWYgKGlkICE9IG51bGwpIHtcbiAgICAgICAgICBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2lkXSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgZm9yICh2YXIgX2sgPSAwOyBfayA8IG1vZHVsZXMubGVuZ3RoOyBfaysrKSB7XG4gICAgICB2YXIgaXRlbSA9IFtdLmNvbmNhdChtb2R1bGVzW19rXSk7XG4gICAgICBpZiAoZGVkdXBlICYmIGFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaXRlbVswXV0pIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIGxheWVyICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgIGlmICh0eXBlb2YgaXRlbVs1XSA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgIGl0ZW1bNV0gPSBsYXllcjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpdGVtWzFdID0gXCJAbGF5ZXJcIi5jb25jYXQoaXRlbVs1XS5sZW5ndGggPiAwID8gXCIgXCIuY29uY2F0KGl0ZW1bNV0pIDogXCJcIiwgXCIge1wiKS5jb25jYXQoaXRlbVsxXSwgXCJ9XCIpO1xuICAgICAgICAgIGl0ZW1bNV0gPSBsYXllcjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKG1lZGlhKSB7XG4gICAgICAgIGlmICghaXRlbVsyXSkge1xuICAgICAgICAgIGl0ZW1bMl0gPSBtZWRpYTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpdGVtWzFdID0gXCJAbWVkaWEgXCIuY29uY2F0KGl0ZW1bMl0sIFwiIHtcIikuY29uY2F0KGl0ZW1bMV0sIFwifVwiKTtcbiAgICAgICAgICBpdGVtWzJdID0gbWVkaWE7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChzdXBwb3J0cykge1xuICAgICAgICBpZiAoIWl0ZW1bNF0pIHtcbiAgICAgICAgICBpdGVtWzRdID0gXCJcIi5jb25jYXQoc3VwcG9ydHMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGl0ZW1bMV0gPSBcIkBzdXBwb3J0cyAoXCIuY29uY2F0KGl0ZW1bNF0sIFwiKSB7XCIpLmNvbmNhdChpdGVtWzFdLCBcIn1cIik7XG4gICAgICAgICAgaXRlbVs0XSA9IHN1cHBvcnRzO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBsaXN0LnB1c2goaXRlbSk7XG4gICAgfVxuICB9O1xuICByZXR1cm4gbGlzdDtcbn07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0ZW0pIHtcbiAgdmFyIGNvbnRlbnQgPSBpdGVtWzFdO1xuICB2YXIgY3NzTWFwcGluZyA9IGl0ZW1bM107XG4gIGlmICghY3NzTWFwcGluZykge1xuICAgIHJldHVybiBjb250ZW50O1xuICB9XG4gIGlmICh0eXBlb2YgYnRvYSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgdmFyIGJhc2U2NCA9IGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KGNzc01hcHBpbmcpKSkpO1xuICAgIHZhciBkYXRhID0gXCJzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04O2Jhc2U2NCxcIi5jb25jYXQoYmFzZTY0KTtcbiAgICB2YXIgc291cmNlTWFwcGluZyA9IFwiLyojIFwiLmNvbmNhdChkYXRhLCBcIiAqL1wiKTtcbiAgICByZXR1cm4gW2NvbnRlbnRdLmNvbmNhdChbc291cmNlTWFwcGluZ10pLmpvaW4oXCJcXG5cIik7XG4gIH1cbiAgcmV0dXJuIFtjb250ZW50XS5qb2luKFwiXFxuXCIpO1xufTsiLCIvKipcbiAqIENvcHlyaWdodCAoYykgMjAxMCwyMDExLDIwMTIsMjAxMywyMDE0IE1vcmdhbiBSb2RlcmljayBodHRwOi8vcm9kZXJpY2suZGtcbiAqIExpY2Vuc2U6IE1JVCAtIGh0dHA6Ly9tcmducmRyY2subWl0LWxpY2Vuc2Uub3JnXG4gKlxuICogaHR0cHM6Ly9naXRodWIuY29tL21yb2Rlcmljay9QdWJTdWJKU1xuICovXG5cbihmdW5jdGlvbiAocm9vdCwgZmFjdG9yeSl7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgdmFyIFB1YlN1YiA9IHt9O1xuXG4gICAgaWYgKHJvb3QuUHViU3ViKSB7XG4gICAgICAgIFB1YlN1YiA9IHJvb3QuUHViU3ViO1xuICAgICAgICBjb25zb2xlLndhcm4oXCJQdWJTdWIgYWxyZWFkeSBsb2FkZWQsIHVzaW5nIGV4aXN0aW5nIHZlcnNpb25cIik7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcm9vdC5QdWJTdWIgPSBQdWJTdWI7XG4gICAgICAgIGZhY3RvcnkoUHViU3ViKTtcbiAgICB9XG4gICAgLy8gQ29tbW9uSlMgYW5kIE5vZGUuanMgbW9kdWxlIHN1cHBvcnRcbiAgICBpZiAodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKXtcbiAgICAgICAgaWYgKG1vZHVsZSAhPT0gdW5kZWZpbmVkICYmIG1vZHVsZS5leHBvcnRzKSB7XG4gICAgICAgICAgICBleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSBQdWJTdWI7IC8vIE5vZGUuanMgc3BlY2lmaWMgYG1vZHVsZS5leHBvcnRzYFxuICAgICAgICB9XG4gICAgICAgIGV4cG9ydHMuUHViU3ViID0gUHViU3ViOyAvLyBDb21tb25KUyBtb2R1bGUgMS4xLjEgc3BlY1xuICAgICAgICBtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHMgPSBQdWJTdWI7IC8vIENvbW1vbkpTXG4gICAgfVxuICAgIC8vIEFNRCBzdXBwb3J0XG4gICAgLyogZXNsaW50LWRpc2FibGUgbm8tdW5kZWYgKi9cbiAgICBlbHNlIGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpe1xuICAgICAgICBkZWZpbmUoZnVuY3Rpb24oKSB7IHJldHVybiBQdWJTdWI7IH0pO1xuICAgICAgICAvKiBlc2xpbnQtZW5hYmxlIG5vLXVuZGVmICovXG4gICAgfVxuXG59KCggdHlwZW9mIHdpbmRvdyA9PT0gJ29iamVjdCcgJiYgd2luZG93ICkgfHwgdGhpcywgZnVuY3Rpb24gKFB1YlN1Yil7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgdmFyIG1lc3NhZ2VzID0ge30sXG4gICAgICAgIGxhc3RVaWQgPSAtMSxcbiAgICAgICAgQUxMX1NVQlNDUklCSU5HX01TRyA9ICcqJztcblxuICAgIGZ1bmN0aW9uIGhhc0tleXMob2JqKXtcbiAgICAgICAgdmFyIGtleTtcblxuICAgICAgICBmb3IgKGtleSBpbiBvYmope1xuICAgICAgICAgICAgaWYgKCBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpICl7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBmdW5jdGlvbiB0aGF0IHRocm93cyB0aGUgcGFzc2VkIGV4Y2VwdGlvbiwgZm9yIHVzZSBhcyBhcmd1bWVudCBmb3Igc2V0VGltZW91dFxuICAgICAqIEBhbGlhcyB0aHJvd0V4Y2VwdGlvblxuICAgICAqIEBmdW5jdGlvblxuICAgICAqIEBwYXJhbSB7IE9iamVjdCB9IGV4IEFuIEVycm9yIG9iamVjdFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRocm93RXhjZXB0aW9uKCBleCApe1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gcmVUaHJvd0V4Y2VwdGlvbigpe1xuICAgICAgICAgICAgdGhyb3cgZXg7XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY2FsbFN1YnNjcmliZXJXaXRoRGVsYXllZEV4Y2VwdGlvbnMoIHN1YnNjcmliZXIsIG1lc3NhZ2UsIGRhdGEgKXtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHN1YnNjcmliZXIoIG1lc3NhZ2UsIGRhdGEgKTtcbiAgICAgICAgfSBjYXRjaCggZXggKXtcbiAgICAgICAgICAgIHNldFRpbWVvdXQoIHRocm93RXhjZXB0aW9uKCBleCApLCAwKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNhbGxTdWJzY3JpYmVyV2l0aEltbWVkaWF0ZUV4Y2VwdGlvbnMoIHN1YnNjcmliZXIsIG1lc3NhZ2UsIGRhdGEgKXtcbiAgICAgICAgc3Vic2NyaWJlciggbWVzc2FnZSwgZGF0YSApO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGRlbGl2ZXJNZXNzYWdlKCBvcmlnaW5hbE1lc3NhZ2UsIG1hdGNoZWRNZXNzYWdlLCBkYXRhLCBpbW1lZGlhdGVFeGNlcHRpb25zICl7XG4gICAgICAgIHZhciBzdWJzY3JpYmVycyA9IG1lc3NhZ2VzW21hdGNoZWRNZXNzYWdlXSxcbiAgICAgICAgICAgIGNhbGxTdWJzY3JpYmVyID0gaW1tZWRpYXRlRXhjZXB0aW9ucyA/IGNhbGxTdWJzY3JpYmVyV2l0aEltbWVkaWF0ZUV4Y2VwdGlvbnMgOiBjYWxsU3Vic2NyaWJlcldpdGhEZWxheWVkRXhjZXB0aW9ucyxcbiAgICAgICAgICAgIHM7XG5cbiAgICAgICAgaWYgKCAhT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKCBtZXNzYWdlcywgbWF0Y2hlZE1lc3NhZ2UgKSApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAocyBpbiBzdWJzY3JpYmVycyl7XG4gICAgICAgICAgICBpZiAoIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzdWJzY3JpYmVycywgcykpe1xuICAgICAgICAgICAgICAgIGNhbGxTdWJzY3JpYmVyKCBzdWJzY3JpYmVyc1tzXSwgb3JpZ2luYWxNZXNzYWdlLCBkYXRhICk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjcmVhdGVEZWxpdmVyeUZ1bmN0aW9uKCBtZXNzYWdlLCBkYXRhLCBpbW1lZGlhdGVFeGNlcHRpb25zICl7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiBkZWxpdmVyTmFtZXNwYWNlZCgpe1xuICAgICAgICAgICAgdmFyIHRvcGljID0gU3RyaW5nKCBtZXNzYWdlICksXG4gICAgICAgICAgICAgICAgcG9zaXRpb24gPSB0b3BpYy5sYXN0SW5kZXhPZiggJy4nICk7XG5cbiAgICAgICAgICAgIC8vIGRlbGl2ZXIgdGhlIG1lc3NhZ2UgYXMgaXQgaXMgbm93XG4gICAgICAgICAgICBkZWxpdmVyTWVzc2FnZShtZXNzYWdlLCBtZXNzYWdlLCBkYXRhLCBpbW1lZGlhdGVFeGNlcHRpb25zKTtcblxuICAgICAgICAgICAgLy8gdHJpbSB0aGUgaGllcmFyY2h5IGFuZCBkZWxpdmVyIG1lc3NhZ2UgdG8gZWFjaCBsZXZlbFxuICAgICAgICAgICAgd2hpbGUoIHBvc2l0aW9uICE9PSAtMSApe1xuICAgICAgICAgICAgICAgIHRvcGljID0gdG9waWMuc3Vic3RyKCAwLCBwb3NpdGlvbiApO1xuICAgICAgICAgICAgICAgIHBvc2l0aW9uID0gdG9waWMubGFzdEluZGV4T2YoJy4nKTtcbiAgICAgICAgICAgICAgICBkZWxpdmVyTWVzc2FnZSggbWVzc2FnZSwgdG9waWMsIGRhdGEsIGltbWVkaWF0ZUV4Y2VwdGlvbnMgKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZGVsaXZlck1lc3NhZ2UobWVzc2FnZSwgQUxMX1NVQlNDUklCSU5HX01TRywgZGF0YSwgaW1tZWRpYXRlRXhjZXB0aW9ucyk7XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaGFzRGlyZWN0U3Vic2NyaWJlcnNGb3IoIG1lc3NhZ2UgKSB7XG4gICAgICAgIHZhciB0b3BpYyA9IFN0cmluZyggbWVzc2FnZSApLFxuICAgICAgICAgICAgZm91bmQgPSBCb29sZWFuKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCggbWVzc2FnZXMsIHRvcGljICkgJiYgaGFzS2V5cyhtZXNzYWdlc1t0b3BpY10pKTtcblxuICAgICAgICByZXR1cm4gZm91bmQ7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbWVzc2FnZUhhc1N1YnNjcmliZXJzKCBtZXNzYWdlICl7XG4gICAgICAgIHZhciB0b3BpYyA9IFN0cmluZyggbWVzc2FnZSApLFxuICAgICAgICAgICAgZm91bmQgPSBoYXNEaXJlY3RTdWJzY3JpYmVyc0Zvcih0b3BpYykgfHwgaGFzRGlyZWN0U3Vic2NyaWJlcnNGb3IoQUxMX1NVQlNDUklCSU5HX01TRyksXG4gICAgICAgICAgICBwb3NpdGlvbiA9IHRvcGljLmxhc3RJbmRleE9mKCAnLicgKTtcblxuICAgICAgICB3aGlsZSAoICFmb3VuZCAmJiBwb3NpdGlvbiAhPT0gLTEgKXtcbiAgICAgICAgICAgIHRvcGljID0gdG9waWMuc3Vic3RyKCAwLCBwb3NpdGlvbiApO1xuICAgICAgICAgICAgcG9zaXRpb24gPSB0b3BpYy5sYXN0SW5kZXhPZiggJy4nICk7XG4gICAgICAgICAgICBmb3VuZCA9IGhhc0RpcmVjdFN1YnNjcmliZXJzRm9yKHRvcGljKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmb3VuZDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBwdWJsaXNoKCBtZXNzYWdlLCBkYXRhLCBzeW5jLCBpbW1lZGlhdGVFeGNlcHRpb25zICl7XG4gICAgICAgIG1lc3NhZ2UgPSAodHlwZW9mIG1lc3NhZ2UgPT09ICdzeW1ib2wnKSA/IG1lc3NhZ2UudG9TdHJpbmcoKSA6IG1lc3NhZ2U7XG5cbiAgICAgICAgdmFyIGRlbGl2ZXIgPSBjcmVhdGVEZWxpdmVyeUZ1bmN0aW9uKCBtZXNzYWdlLCBkYXRhLCBpbW1lZGlhdGVFeGNlcHRpb25zICksXG4gICAgICAgICAgICBoYXNTdWJzY3JpYmVycyA9IG1lc3NhZ2VIYXNTdWJzY3JpYmVycyggbWVzc2FnZSApO1xuXG4gICAgICAgIGlmICggIWhhc1N1YnNjcmliZXJzICl7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIHN5bmMgPT09IHRydWUgKXtcbiAgICAgICAgICAgIGRlbGl2ZXIoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHNldFRpbWVvdXQoIGRlbGl2ZXIsIDAgKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQdWJsaXNoZXMgdGhlIG1lc3NhZ2UsIHBhc3NpbmcgdGhlIGRhdGEgdG8gaXQncyBzdWJzY3JpYmVyc1xuICAgICAqIEBmdW5jdGlvblxuICAgICAqIEBhbGlhcyBwdWJsaXNoXG4gICAgICogQHBhcmFtIHsgU3RyaW5nIH0gbWVzc2FnZSBUaGUgbWVzc2FnZSB0byBwdWJsaXNoXG4gICAgICogQHBhcmFtIHt9IGRhdGEgVGhlIGRhdGEgdG8gcGFzcyB0byBzdWJzY3JpYmVyc1xuICAgICAqIEByZXR1cm4geyBCb29sZWFuIH1cbiAgICAgKi9cbiAgICBQdWJTdWIucHVibGlzaCA9IGZ1bmN0aW9uKCBtZXNzYWdlLCBkYXRhICl7XG4gICAgICAgIHJldHVybiBwdWJsaXNoKCBtZXNzYWdlLCBkYXRhLCBmYWxzZSwgUHViU3ViLmltbWVkaWF0ZUV4Y2VwdGlvbnMgKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUHVibGlzaGVzIHRoZSBtZXNzYWdlIHN5bmNocm9ub3VzbHksIHBhc3NpbmcgdGhlIGRhdGEgdG8gaXQncyBzdWJzY3JpYmVyc1xuICAgICAqIEBmdW5jdGlvblxuICAgICAqIEBhbGlhcyBwdWJsaXNoU3luY1xuICAgICAqIEBwYXJhbSB7IFN0cmluZyB9IG1lc3NhZ2UgVGhlIG1lc3NhZ2UgdG8gcHVibGlzaFxuICAgICAqIEBwYXJhbSB7fSBkYXRhIFRoZSBkYXRhIHRvIHBhc3MgdG8gc3Vic2NyaWJlcnNcbiAgICAgKiBAcmV0dXJuIHsgQm9vbGVhbiB9XG4gICAgICovXG4gICAgUHViU3ViLnB1Ymxpc2hTeW5jID0gZnVuY3Rpb24oIG1lc3NhZ2UsIGRhdGEgKXtcbiAgICAgICAgcmV0dXJuIHB1Ymxpc2goIG1lc3NhZ2UsIGRhdGEsIHRydWUsIFB1YlN1Yi5pbW1lZGlhdGVFeGNlcHRpb25zICk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFN1YnNjcmliZXMgdGhlIHBhc3NlZCBmdW5jdGlvbiB0byB0aGUgcGFzc2VkIG1lc3NhZ2UuIEV2ZXJ5IHJldHVybmVkIHRva2VuIGlzIHVuaXF1ZSBhbmQgc2hvdWxkIGJlIHN0b3JlZCBpZiB5b3UgbmVlZCB0byB1bnN1YnNjcmliZVxuICAgICAqIEBmdW5jdGlvblxuICAgICAqIEBhbGlhcyBzdWJzY3JpYmVcbiAgICAgKiBAcGFyYW0geyBTdHJpbmcgfSBtZXNzYWdlIFRoZSBtZXNzYWdlIHRvIHN1YnNjcmliZSB0b1xuICAgICAqIEBwYXJhbSB7IEZ1bmN0aW9uIH0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gY2FsbCB3aGVuIGEgbmV3IG1lc3NhZ2UgaXMgcHVibGlzaGVkXG4gICAgICogQHJldHVybiB7IFN0cmluZyB9XG4gICAgICovXG4gICAgUHViU3ViLnN1YnNjcmliZSA9IGZ1bmN0aW9uKCBtZXNzYWdlLCBmdW5jICl7XG4gICAgICAgIGlmICggdHlwZW9mIGZ1bmMgIT09ICdmdW5jdGlvbicpe1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgbWVzc2FnZSA9ICh0eXBlb2YgbWVzc2FnZSA9PT0gJ3N5bWJvbCcpID8gbWVzc2FnZS50b1N0cmluZygpIDogbWVzc2FnZTtcblxuICAgICAgICAvLyBtZXNzYWdlIGlzIG5vdCByZWdpc3RlcmVkIHlldFxuICAgICAgICBpZiAoICFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoIG1lc3NhZ2VzLCBtZXNzYWdlICkgKXtcbiAgICAgICAgICAgIG1lc3NhZ2VzW21lc3NhZ2VdID0ge307XG4gICAgICAgIH1cblxuICAgICAgICAvLyBmb3JjaW5nIHRva2VuIGFzIFN0cmluZywgdG8gYWxsb3cgZm9yIGZ1dHVyZSBleHBhbnNpb25zIHdpdGhvdXQgYnJlYWtpbmcgdXNhZ2VcbiAgICAgICAgLy8gYW5kIGFsbG93IGZvciBlYXN5IHVzZSBhcyBrZXkgbmFtZXMgZm9yIHRoZSAnbWVzc2FnZXMnIG9iamVjdFxuICAgICAgICB2YXIgdG9rZW4gPSAndWlkXycgKyBTdHJpbmcoKytsYXN0VWlkKTtcbiAgICAgICAgbWVzc2FnZXNbbWVzc2FnZV1bdG9rZW5dID0gZnVuYztcblxuICAgICAgICAvLyByZXR1cm4gdG9rZW4gZm9yIHVuc3Vic2NyaWJpbmdcbiAgICAgICAgcmV0dXJuIHRva2VuO1xuICAgIH07XG5cbiAgICBQdWJTdWIuc3Vic2NyaWJlQWxsID0gZnVuY3Rpb24oIGZ1bmMgKXtcbiAgICAgICAgcmV0dXJuIFB1YlN1Yi5zdWJzY3JpYmUoQUxMX1NVQlNDUklCSU5HX01TRywgZnVuYyk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFN1YnNjcmliZXMgdGhlIHBhc3NlZCBmdW5jdGlvbiB0byB0aGUgcGFzc2VkIG1lc3NhZ2Ugb25jZVxuICAgICAqIEBmdW5jdGlvblxuICAgICAqIEBhbGlhcyBzdWJzY3JpYmVPbmNlXG4gICAgICogQHBhcmFtIHsgU3RyaW5nIH0gbWVzc2FnZSBUaGUgbWVzc2FnZSB0byBzdWJzY3JpYmUgdG9cbiAgICAgKiBAcGFyYW0geyBGdW5jdGlvbiB9IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGNhbGwgd2hlbiBhIG5ldyBtZXNzYWdlIGlzIHB1Ymxpc2hlZFxuICAgICAqIEByZXR1cm4geyBQdWJTdWIgfVxuICAgICAqL1xuICAgIFB1YlN1Yi5zdWJzY3JpYmVPbmNlID0gZnVuY3Rpb24oIG1lc3NhZ2UsIGZ1bmMgKXtcbiAgICAgICAgdmFyIHRva2VuID0gUHViU3ViLnN1YnNjcmliZSggbWVzc2FnZSwgZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIC8vIGJlZm9yZSBmdW5jIGFwcGx5LCB1bnN1YnNjcmliZSBtZXNzYWdlXG4gICAgICAgICAgICBQdWJTdWIudW5zdWJzY3JpYmUoIHRva2VuICk7XG4gICAgICAgICAgICBmdW5jLmFwcGx5KCB0aGlzLCBhcmd1bWVudHMgKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBQdWJTdWI7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENsZWFycyBhbGwgc3Vic2NyaXB0aW9uc1xuICAgICAqIEBmdW5jdGlvblxuICAgICAqIEBwdWJsaWNcbiAgICAgKiBAYWxpYXMgY2xlYXJBbGxTdWJzY3JpcHRpb25zXG4gICAgICovXG4gICAgUHViU3ViLmNsZWFyQWxsU3Vic2NyaXB0aW9ucyA9IGZ1bmN0aW9uIGNsZWFyQWxsU3Vic2NyaXB0aW9ucygpe1xuICAgICAgICBtZXNzYWdlcyA9IHt9O1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDbGVhciBzdWJzY3JpcHRpb25zIGJ5IHRoZSB0b3BpY1xuICAgICAqIEBmdW5jdGlvblxuICAgICAqIEBwdWJsaWNcbiAgICAgKiBAYWxpYXMgY2xlYXJBbGxTdWJzY3JpcHRpb25zXG4gICAgICogQHJldHVybiB7IGludCB9XG4gICAgICovXG4gICAgUHViU3ViLmNsZWFyU3Vic2NyaXB0aW9ucyA9IGZ1bmN0aW9uIGNsZWFyU3Vic2NyaXB0aW9ucyh0b3BpYyl7XG4gICAgICAgIHZhciBtO1xuICAgICAgICBmb3IgKG0gaW4gbWVzc2FnZXMpe1xuICAgICAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChtZXNzYWdlcywgbSkgJiYgbS5pbmRleE9mKHRvcGljKSA9PT0gMCl7XG4gICAgICAgICAgICAgICAgZGVsZXRlIG1lc3NhZ2VzW21dO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAgIENvdW50IHN1YnNjcmlwdGlvbnMgYnkgdGhlIHRvcGljXG4gICAgICogQGZ1bmN0aW9uXG4gICAgICogQHB1YmxpY1xuICAgICAqIEBhbGlhcyBjb3VudFN1YnNjcmlwdGlvbnNcbiAgICAgKiBAcmV0dXJuIHsgQXJyYXkgfVxuICAgICovXG4gICAgUHViU3ViLmNvdW50U3Vic2NyaXB0aW9ucyA9IGZ1bmN0aW9uIGNvdW50U3Vic2NyaXB0aW9ucyh0b3BpYyl7XG4gICAgICAgIHZhciBtO1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLXZhcnNcbiAgICAgICAgdmFyIHRva2VuO1xuICAgICAgICB2YXIgY291bnQgPSAwO1xuICAgICAgICBmb3IgKG0gaW4gbWVzc2FnZXMpIHtcbiAgICAgICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobWVzc2FnZXMsIG0pICYmIG0uaW5kZXhPZih0b3BpYykgPT09IDApIHtcbiAgICAgICAgICAgICAgICBmb3IgKHRva2VuIGluIG1lc3NhZ2VzW21dKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvdW50Kys7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjb3VudDtcbiAgICB9O1xuXG5cbiAgICAvKipcbiAgICAgICBHZXRzIHN1YnNjcmlwdGlvbnMgYnkgdGhlIHRvcGljXG4gICAgICogQGZ1bmN0aW9uXG4gICAgICogQHB1YmxpY1xuICAgICAqIEBhbGlhcyBnZXRTdWJzY3JpcHRpb25zXG4gICAgKi9cbiAgICBQdWJTdWIuZ2V0U3Vic2NyaXB0aW9ucyA9IGZ1bmN0aW9uIGdldFN1YnNjcmlwdGlvbnModG9waWMpe1xuICAgICAgICB2YXIgbTtcbiAgICAgICAgdmFyIGxpc3QgPSBbXTtcbiAgICAgICAgZm9yIChtIGluIG1lc3NhZ2VzKXtcbiAgICAgICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobWVzc2FnZXMsIG0pICYmIG0uaW5kZXhPZih0b3BpYykgPT09IDApe1xuICAgICAgICAgICAgICAgIGxpc3QucHVzaChtKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbGlzdDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBzdWJzY3JpcHRpb25zXG4gICAgICpcbiAgICAgKiAtIFdoZW4gcGFzc2VkIGEgdG9rZW4sIHJlbW92ZXMgYSBzcGVjaWZpYyBzdWJzY3JpcHRpb24uXG4gICAgICpcblx0ICogLSBXaGVuIHBhc3NlZCBhIGZ1bmN0aW9uLCByZW1vdmVzIGFsbCBzdWJzY3JpcHRpb25zIGZvciB0aGF0IGZ1bmN0aW9uXG4gICAgICpcblx0ICogLSBXaGVuIHBhc3NlZCBhIHRvcGljLCByZW1vdmVzIGFsbCBzdWJzY3JpcHRpb25zIGZvciB0aGF0IHRvcGljIChoaWVyYXJjaHkpXG4gICAgICogQGZ1bmN0aW9uXG4gICAgICogQHB1YmxpY1xuICAgICAqIEBhbGlhcyBzdWJzY3JpYmVPbmNlXG4gICAgICogQHBhcmFtIHsgU3RyaW5nIHwgRnVuY3Rpb24gfSB2YWx1ZSBBIHRva2VuLCBmdW5jdGlvbiBvciB0b3BpYyB0byB1bnN1YnNjcmliZSBmcm9tXG4gICAgICogQGV4YW1wbGUgLy8gVW5zdWJzY3JpYmluZyB3aXRoIGEgdG9rZW5cbiAgICAgKiB2YXIgdG9rZW4gPSBQdWJTdWIuc3Vic2NyaWJlKCdteXRvcGljJywgbXlGdW5jKTtcbiAgICAgKiBQdWJTdWIudW5zdWJzY3JpYmUodG9rZW4pO1xuICAgICAqIEBleGFtcGxlIC8vIFVuc3Vic2NyaWJpbmcgd2l0aCBhIGZ1bmN0aW9uXG4gICAgICogUHViU3ViLnVuc3Vic2NyaWJlKG15RnVuYyk7XG4gICAgICogQGV4YW1wbGUgLy8gVW5zdWJzY3JpYmluZyBmcm9tIGEgdG9waWNcbiAgICAgKiBQdWJTdWIudW5zdWJzY3JpYmUoJ215dG9waWMnKTtcbiAgICAgKi9cbiAgICBQdWJTdWIudW5zdWJzY3JpYmUgPSBmdW5jdGlvbih2YWx1ZSl7XG4gICAgICAgIHZhciBkZXNjZW5kYW50VG9waWNFeGlzdHMgPSBmdW5jdGlvbih0b3BpYykge1xuICAgICAgICAgICAgICAgIHZhciBtO1xuICAgICAgICAgICAgICAgIGZvciAoIG0gaW4gbWVzc2FnZXMgKXtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobWVzc2FnZXMsIG0pICYmIG0uaW5kZXhPZih0b3BpYykgPT09IDAgKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGEgZGVzY2VuZGFudCBvZiB0aGUgdG9waWMgZXhpc3RzOlxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgaXNUb3BpYyAgICA9IHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycgJiYgKCBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobWVzc2FnZXMsIHZhbHVlKSB8fCBkZXNjZW5kYW50VG9waWNFeGlzdHModmFsdWUpICksXG4gICAgICAgICAgICBpc1Rva2VuICAgID0gIWlzVG9waWMgJiYgdHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJyxcbiAgICAgICAgICAgIGlzRnVuY3Rpb24gPSB0eXBlb2YgdmFsdWUgPT09ICdmdW5jdGlvbicsXG4gICAgICAgICAgICByZXN1bHQgPSBmYWxzZSxcbiAgICAgICAgICAgIG0sIG1lc3NhZ2UsIHQ7XG5cbiAgICAgICAgaWYgKGlzVG9waWMpe1xuICAgICAgICAgICAgUHViU3ViLmNsZWFyU3Vic2NyaXB0aW9ucyh2YWx1ZSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKCBtIGluIG1lc3NhZ2VzICl7XG4gICAgICAgICAgICBpZiAoIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCggbWVzc2FnZXMsIG0gKSApe1xuICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBtZXNzYWdlc1ttXTtcblxuICAgICAgICAgICAgICAgIGlmICggaXNUb2tlbiAmJiBtZXNzYWdlW3ZhbHVlXSApe1xuICAgICAgICAgICAgICAgICAgICBkZWxldGUgbWVzc2FnZVt2YWx1ZV07XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAvLyB0b2tlbnMgYXJlIHVuaXF1ZSwgc28gd2UgY2FuIGp1c3Qgc3RvcCBoZXJlXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChpc0Z1bmN0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAoIHQgaW4gbWVzc2FnZSApe1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChtZXNzYWdlLCB0KSAmJiBtZXNzYWdlW3RdID09PSB2YWx1ZSl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIG1lc3NhZ2VbdF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcbn0pKTtcbiIsIi8vIEltcG9ydHNcbmltcG9ydCBfX19DU1NfTE9BREVSX0FQSV9TT1VSQ0VNQVBfSU1QT1JUX19fIGZyb20gXCIuLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvc291cmNlTWFwcy5qc1wiO1xuaW1wb3J0IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyBmcm9tIFwiLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qc1wiO1xudmFyIF9fX0NTU19MT0FERVJfRVhQT1JUX19fID0gX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fKF9fX0NTU19MT0FERVJfQVBJX1NPVVJDRU1BUF9JTVBPUlRfX18pO1xuX19fQ1NTX0xPQURFUl9FWFBPUlRfX18ucHVzaChbbW9kdWxlLmlkLCBcIkBpbXBvcnQgdXJsKGh0dHBzOi8vZm9udHMuZ29vZ2xlYXBpcy5jb20vY3NzMj9mYW1pbHk9QmlnK1Nob3VsZGVycytTdGVuY2lsK1RleHQ6d2dodEA5MDAmZmFtaWx5PUludGVyOndnaHRANDAwOzYwMCZkaXNwbGF5PXN3YXApO1wiXSk7XG4vLyBNb2R1bGVcbl9fX0NTU19MT0FERVJfRVhQT1JUX19fLnB1c2goW21vZHVsZS5pZCwgYDpyb290IHtcbiAgLS1ibHVlLW91dGxpbmU6ICMwZDVmOGI7XG4gIC0tYmx1ZS1kYXJrOiAjMGYxYTNlO1xuICAtLWJsdWU6ICMxYTk1Y2Q7XG4gIC0tZ3JleTogeWVsbG93Z3JlZW47XG59XG5cbmJvZHkge1xuICBiYWNrZ3JvdW5kOiB2YXIoLS1ibHVlLWRhcmspO1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gIG1hcmdpbjogMDtcbiAgaGVpZ2h0OiAxMDB2aDtcbn1cblxuKiB7XG4gIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XG59XG5cbi5oZWFkZXIge1xuICBkaXNwbGF5OiBmbGV4O1xuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbn1cblxuaDEge1xuICB3aWR0aDogbWluLWNvbnRlbnQ7XG4gIGZvbnQtZmFtaWx5OiBcIkJpZyBTaG91bGRlcnMgU3RlbmNpbCBUZXh0XCIsIHNhbnMtc2VyaWY7XG4gIGZvbnQtc2l6ZTogMTAwcHg7XG4gIG1hcmdpbi10b3A6IDMwcHg7XG4gIG1hcmdpbi1ib3R0b206IDgwcHg7XG4gIGNvbG9yOiAjZmZmZmZmO1xuICBib3JkZXI6IDEwcHggc29saWQgI2ZmZmZmZjtcbiAgYm9yZGVyLXJhZGl1czogMjBweDtcbiAgcGFkZGluZzogMTBweCAyMHB4O1xufVxuXG4uY29udGVudCB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xuICBmbGV4LXdyYXA6IHdyYXA7XG4gIHBhZGRpbmc6IDAgNDBweDtcbiAgZ2FwOiA1MHB4O1xufVxuXG4uZ3JpZCB7XG4gIGRpc3BsYXk6IGdyaWQ7XG4gIGdyaWQtdGVtcGxhdGUtY29sdW1uczogcmVwZWF0KDEwLCA0MHB4KTtcbiAgZ3JpZC10ZW1wbGF0ZS1yb3dzOiByZXBlYXQoMTAsIDQwcHgpO1xuICBnYXA6IDRweDtcbiAgd2lkdGg6IG1pbi1jb250ZW50O1xuXG4gIGJhY2tncm91bmQ6IHZhcigtLWJsdWUtb3V0bGluZSk7XG4gIHBhZGRpbmc6IDRweDtcbn1cblxuLmNlbGwge1xuICBiYWNrZ3JvdW5kOiB2YXIoLS1ibHVlKTtcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xufVxuXG4uY2VsbDpob3ZlciB7XG4gIGZpbHRlcjogYnJpZ2h0bmVzcygwLjg1KTtcbn1cblxuLnBsYXllck9uZSA+IC5zaGlwIHtcbiAgYmFja2dyb3VuZDogdmFyKC0tZ3JleSk7XG59XG5cbi5oaXQ6OmJlZm9yZSxcbi5oaXQuc2hpcDo6YmVmb3JlIHtcbiAgY29udGVudDogXCJcIjtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICB0b3A6IDZweDtcbiAgYm90dG9tOiA2cHg7XG4gIGxlZnQ6IDZweDtcbiAgcmlnaHQ6IDZweDtcblxuICBiYWNrZ3JvdW5kOiByZ2IoMjU1LCAyNTUsIDI1NSk7XG4gIGJvcmRlci1yYWRpdXM6IDMycHg7XG59XG5cbi5oaXQuc2hpcDo6YmVmb3JlIHtcbiAgYmFja2dyb3VuZDogcmdiKDIxMCwgNjksIDY5KTtcbn1cblxuLyogU2hpcCBTZWxlY3Rpb24gKi9cblxuLnNoaXBTZWxlY3Rpb24ge1xuICBkaXNwbGF5OiBmbGV4O1xuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICBnYXA6IDhweDtcbiAgcGFkZGluZzogMTBweDtcbiAgd2lkdGg6IDMwMHB4O1xuICBtaW4taGVpZ2h0OiA0NDRweDtcbiAgYmFja2dyb3VuZDogdmFyKC0tYmx1ZSk7XG4gIGJvcmRlcjogNHB4IHNvbGlkIHZhcigtLWJsdWUtb3V0bGluZSk7XG59XG5cbi5zaGlwU2VsZWN0aW9uID4gcCB7XG4gIG1hcmdpbjogMDtcbiAgZm9udC1mYW1pbHk6IFwiSW50ZXJcIiwgc2Fucy1zZXJpZjtcbiAgZm9udC13ZWlnaHQ6IDYwMDtcbiAgY29sb3I6IHZhcigtLWJsdWUtb3V0bGluZSk7XG59XG5cbi5zaGlwRGl2IHtcbiAgZmxleDogMTtcbiAgZGlzcGxheTogZmxleDtcbiAgZmxleC13cmFwOiB3cmFwO1xuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgYWxpZ24tY29udGVudDogY2VudGVyO1xuICBnYXA6IDhweDtcbiAgaGVpZ2h0OiAxMDAlO1xufVxuXG4uc2hpcERpdiA+IC5zaGlwIHtcbiAgZGlzcGxheTogZmxleDtcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgZ2FwOiA0cHg7XG5cbiAgaGVpZ2h0OiBtaW4tY29udGVudDtcblxuICBiYWNrZ3JvdW5kOiB2YXIoLS1ibHVlLW91dGxpbmUpO1xuICBwYWRkaW5nOiA0cHg7XG59XG5cbi5zaGlwRGl2ID4gLnNoaXBbZGF0YS1heGlzPVwieVwiXSB7XG4gIGZsZXgtZGlyZWN0aW9uOiByb3c7XG59XG5cbi5zaGlwRGl2ID4gLnNoaXAgPiAqIHtcbiAgaGVpZ2h0OiA0MHB4O1xuICB3aWR0aDogNDBweDtcbiAgYmFja2dyb3VuZDogdmFyKC0tZ3JleSk7XG59XG5cbi8qIE1vZGFsICovXG5cbi5tb2RhbEJnIHtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICB0b3A6IDA7XG4gIGJvdHRvbTogMDtcbiAgbGVmdDogMDtcbiAgcmlnaHQ6IDA7XG4gIGJhY2tncm91bmQ6ICMwMDAwMDA2NTtcblxuICBkaXNwbGF5OiBmbGV4O1xuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbn1cblxuLm1vZGFsIHtcbiAgaGVpZ2h0OiAzMDBweDtcbiAgd2lkdGg6IDUwMHB4O1xuICBiYWNrZ3JvdW5kOiB3aGl0ZTtcbiAgcGFkZGluZzogMjBweDtcbiAgYm9yZGVyLXJhZGl1czogMTRweDtcblxuICBkaXNwbGF5OiBmbGV4O1xuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWV2ZW5seTtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbn1cblxuLm1vZGFsID4gLnRleHQsXG4ubW9kYWwgPiAuYnV0dG9uIHtcbiAgZm9udC1zaXplOiA0MHB4O1xuICBmb250LWZhbWlseTogXCJpbnRlclwiLCBzYW5zLXNlcmlmO1xuICBmb250LXdlaWdodDogNDAwO1xufVxuXG4ubW9kYWwgPiAudGV4dCB7XG4gIGNvbG9yOiB2YXIoLS1ibHVlLWRhcmspO1xufVxuLm1vZGFsID4gLmJ1dHRvbiB7XG4gIGNvbG9yOiB3aGl0ZTtcbiAgYmFja2dyb3VuZDogdmFyKC0tYmx1ZS1kYXJrKTtcbiAgcGFkZGluZzogMTJweCAyNHB4O1xuICBib3JkZXItcmFkaXVzOiAxMHB4O1xuICB0cmFuc2l0aW9uOiAyMDBtcztcbn1cblxuLm1vZGFsID4gLmJ1dHRvbjpob3ZlciB7XG4gIHRyYW5zZm9ybTogc2NhbGUoMS4wNSk7XG4gIGN1cnNvcjogcG9pbnRlcjtcbn1cbmAsIFwiXCIse1widmVyc2lvblwiOjMsXCJzb3VyY2VzXCI6W1wid2VicGFjazovLy4vc3JjL3N0eWxlLmNzc1wiXSxcIm5hbWVzXCI6W10sXCJtYXBwaW5nc1wiOlwiQUFDQTtFQUNFLHVCQUF1QjtFQUN2QixvQkFBb0I7RUFDcEIsZUFBZTtFQUNmLG1CQUFtQjtBQUNyQjs7QUFFQTtFQUNFLDRCQUE0QjtFQUM1QixrQkFBa0I7RUFDbEIsU0FBUztFQUNULGFBQWE7QUFDZjs7QUFFQTtFQUNFLHNCQUFzQjtBQUN4Qjs7QUFFQTtFQUNFLGFBQWE7RUFDYix1QkFBdUI7QUFDekI7O0FBRUE7RUFDRSxrQkFBa0I7RUFDbEIscURBQXFEO0VBQ3JELGdCQUFnQjtFQUNoQixnQkFBZ0I7RUFDaEIsbUJBQW1CO0VBQ25CLGNBQWM7RUFDZCwwQkFBMEI7RUFDMUIsbUJBQW1CO0VBQ25CLGtCQUFrQjtBQUNwQjs7QUFFQTtFQUNFLGFBQWE7RUFDYix1QkFBdUI7RUFDdkIsbUJBQW1CO0VBQ25CLGVBQWU7RUFDZixlQUFlO0VBQ2YsU0FBUztBQUNYOztBQUVBO0VBQ0UsYUFBYTtFQUNiLHVDQUF1QztFQUN2QyxvQ0FBb0M7RUFDcEMsUUFBUTtFQUNSLGtCQUFrQjs7RUFFbEIsK0JBQStCO0VBQy9CLFlBQVk7QUFDZDs7QUFFQTtFQUNFLHVCQUF1QjtFQUN2QixrQkFBa0I7QUFDcEI7O0FBRUE7RUFDRSx3QkFBd0I7QUFDMUI7O0FBRUE7RUFDRSx1QkFBdUI7QUFDekI7O0FBRUE7O0VBRUUsV0FBVztFQUNYLGtCQUFrQjtFQUNsQixRQUFRO0VBQ1IsV0FBVztFQUNYLFNBQVM7RUFDVCxVQUFVOztFQUVWLDhCQUE4QjtFQUM5QixtQkFBbUI7QUFDckI7O0FBRUE7RUFDRSw0QkFBNEI7QUFDOUI7O0FBRUEsbUJBQW1COztBQUVuQjtFQUNFLGFBQWE7RUFDYixzQkFBc0I7RUFDdEIsUUFBUTtFQUNSLGFBQWE7RUFDYixZQUFZO0VBQ1osaUJBQWlCO0VBQ2pCLHVCQUF1QjtFQUN2QixxQ0FBcUM7QUFDdkM7O0FBRUE7RUFDRSxTQUFTO0VBQ1QsZ0NBQWdDO0VBQ2hDLGdCQUFnQjtFQUNoQiwwQkFBMEI7QUFDNUI7O0FBRUE7RUFDRSxPQUFPO0VBQ1AsYUFBYTtFQUNiLGVBQWU7RUFDZix1QkFBdUI7RUFDdkIsbUJBQW1CO0VBQ25CLHFCQUFxQjtFQUNyQixRQUFRO0VBQ1IsWUFBWTtBQUNkOztBQUVBO0VBQ0UsYUFBYTtFQUNiLHNCQUFzQjtFQUN0QixRQUFROztFQUVSLG1CQUFtQjs7RUFFbkIsK0JBQStCO0VBQy9CLFlBQVk7QUFDZDs7QUFFQTtFQUNFLG1CQUFtQjtBQUNyQjs7QUFFQTtFQUNFLFlBQVk7RUFDWixXQUFXO0VBQ1gsdUJBQXVCO0FBQ3pCOztBQUVBLFVBQVU7O0FBRVY7RUFDRSxrQkFBa0I7RUFDbEIsTUFBTTtFQUNOLFNBQVM7RUFDVCxPQUFPO0VBQ1AsUUFBUTtFQUNSLHFCQUFxQjs7RUFFckIsYUFBYTtFQUNiLHVCQUF1QjtFQUN2QixtQkFBbUI7QUFDckI7O0FBRUE7RUFDRSxhQUFhO0VBQ2IsWUFBWTtFQUNaLGlCQUFpQjtFQUNqQixhQUFhO0VBQ2IsbUJBQW1COztFQUVuQixhQUFhO0VBQ2Isc0JBQXNCO0VBQ3RCLDZCQUE2QjtFQUM3QixtQkFBbUI7QUFDckI7O0FBRUE7O0VBRUUsZUFBZTtFQUNmLGdDQUFnQztFQUNoQyxnQkFBZ0I7QUFDbEI7O0FBRUE7RUFDRSx1QkFBdUI7QUFDekI7QUFDQTtFQUNFLFlBQVk7RUFDWiw0QkFBNEI7RUFDNUIsa0JBQWtCO0VBQ2xCLG1CQUFtQjtFQUNuQixpQkFBaUI7QUFDbkI7O0FBRUE7RUFDRSxzQkFBc0I7RUFDdEIsZUFBZTtBQUNqQlwiLFwic291cmNlc0NvbnRlbnRcIjpbXCJAaW1wb3J0IHVybChcXFwiaHR0cHM6Ly9mb250cy5nb29nbGVhcGlzLmNvbS9jc3MyP2ZhbWlseT1CaWcrU2hvdWxkZXJzK1N0ZW5jaWwrVGV4dDp3Z2h0QDkwMCZmYW1pbHk9SW50ZXI6d2dodEA0MDA7NjAwJmRpc3BsYXk9c3dhcFxcXCIpO1xcbjpyb290IHtcXG4gIC0tYmx1ZS1vdXRsaW5lOiAjMGQ1ZjhiO1xcbiAgLS1ibHVlLWRhcms6ICMwZjFhM2U7XFxuICAtLWJsdWU6ICMxYTk1Y2Q7XFxuICAtLWdyZXk6IHllbGxvd2dyZWVuO1xcbn1cXG5cXG5ib2R5IHtcXG4gIGJhY2tncm91bmQ6IHZhcigtLWJsdWUtZGFyayk7XFxuICBwb3NpdGlvbjogcmVsYXRpdmU7XFxuICBtYXJnaW46IDA7XFxuICBoZWlnaHQ6IDEwMHZoO1xcbn1cXG5cXG4qIHtcXG4gIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxufVxcblxcbi5oZWFkZXIge1xcbiAgZGlzcGxheTogZmxleDtcXG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xcbn1cXG5cXG5oMSB7XFxuICB3aWR0aDogbWluLWNvbnRlbnQ7XFxuICBmb250LWZhbWlseTogXFxcIkJpZyBTaG91bGRlcnMgU3RlbmNpbCBUZXh0XFxcIiwgc2Fucy1zZXJpZjtcXG4gIGZvbnQtc2l6ZTogMTAwcHg7XFxuICBtYXJnaW4tdG9wOiAzMHB4O1xcbiAgbWFyZ2luLWJvdHRvbTogODBweDtcXG4gIGNvbG9yOiAjZmZmZmZmO1xcbiAgYm9yZGVyOiAxMHB4IHNvbGlkICNmZmZmZmY7XFxuICBib3JkZXItcmFkaXVzOiAyMHB4O1xcbiAgcGFkZGluZzogMTBweCAyMHB4O1xcbn1cXG5cXG4uY29udGVudCB7XFxuICBkaXNwbGF5OiBmbGV4O1xcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XFxuICBhbGlnbi1pdGVtczogY2VudGVyO1xcbiAgZmxleC13cmFwOiB3cmFwO1xcbiAgcGFkZGluZzogMCA0MHB4O1xcbiAgZ2FwOiA1MHB4O1xcbn1cXG5cXG4uZ3JpZCB7XFxuICBkaXNwbGF5OiBncmlkO1xcbiAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiByZXBlYXQoMTAsIDQwcHgpO1xcbiAgZ3JpZC10ZW1wbGF0ZS1yb3dzOiByZXBlYXQoMTAsIDQwcHgpO1xcbiAgZ2FwOiA0cHg7XFxuICB3aWR0aDogbWluLWNvbnRlbnQ7XFxuXFxuICBiYWNrZ3JvdW5kOiB2YXIoLS1ibHVlLW91dGxpbmUpO1xcbiAgcGFkZGluZzogNHB4O1xcbn1cXG5cXG4uY2VsbCB7XFxuICBiYWNrZ3JvdW5kOiB2YXIoLS1ibHVlKTtcXG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcXG59XFxuXFxuLmNlbGw6aG92ZXIge1xcbiAgZmlsdGVyOiBicmlnaHRuZXNzKDAuODUpO1xcbn1cXG5cXG4ucGxheWVyT25lID4gLnNoaXAge1xcbiAgYmFja2dyb3VuZDogdmFyKC0tZ3JleSk7XFxufVxcblxcbi5oaXQ6OmJlZm9yZSxcXG4uaGl0LnNoaXA6OmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcIjtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIHRvcDogNnB4O1xcbiAgYm90dG9tOiA2cHg7XFxuICBsZWZ0OiA2cHg7XFxuICByaWdodDogNnB4O1xcblxcbiAgYmFja2dyb3VuZDogcmdiKDI1NSwgMjU1LCAyNTUpO1xcbiAgYm9yZGVyLXJhZGl1czogMzJweDtcXG59XFxuXFxuLmhpdC5zaGlwOjpiZWZvcmUge1xcbiAgYmFja2dyb3VuZDogcmdiKDIxMCwgNjksIDY5KTtcXG59XFxuXFxuLyogU2hpcCBTZWxlY3Rpb24gKi9cXG5cXG4uc2hpcFNlbGVjdGlvbiB7XFxuICBkaXNwbGF5OiBmbGV4O1xcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcXG4gIGdhcDogOHB4O1xcbiAgcGFkZGluZzogMTBweDtcXG4gIHdpZHRoOiAzMDBweDtcXG4gIG1pbi1oZWlnaHQ6IDQ0NHB4O1xcbiAgYmFja2dyb3VuZDogdmFyKC0tYmx1ZSk7XFxuICBib3JkZXI6IDRweCBzb2xpZCB2YXIoLS1ibHVlLW91dGxpbmUpO1xcbn1cXG5cXG4uc2hpcFNlbGVjdGlvbiA+IHAge1xcbiAgbWFyZ2luOiAwO1xcbiAgZm9udC1mYW1pbHk6IFxcXCJJbnRlclxcXCIsIHNhbnMtc2VyaWY7XFxuICBmb250LXdlaWdodDogNjAwO1xcbiAgY29sb3I6IHZhcigtLWJsdWUtb3V0bGluZSk7XFxufVxcblxcbi5zaGlwRGl2IHtcXG4gIGZsZXg6IDE7XFxuICBkaXNwbGF5OiBmbGV4O1xcbiAgZmxleC13cmFwOiB3cmFwO1xcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XFxuICBhbGlnbi1pdGVtczogY2VudGVyO1xcbiAgYWxpZ24tY29udGVudDogY2VudGVyO1xcbiAgZ2FwOiA4cHg7XFxuICBoZWlnaHQ6IDEwMCU7XFxufVxcblxcbi5zaGlwRGl2ID4gLnNoaXAge1xcbiAgZGlzcGxheTogZmxleDtcXG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XFxuICBnYXA6IDRweDtcXG5cXG4gIGhlaWdodDogbWluLWNvbnRlbnQ7XFxuXFxuICBiYWNrZ3JvdW5kOiB2YXIoLS1ibHVlLW91dGxpbmUpO1xcbiAgcGFkZGluZzogNHB4O1xcbn1cXG5cXG4uc2hpcERpdiA+IC5zaGlwW2RhdGEtYXhpcz1cXFwieVxcXCJdIHtcXG4gIGZsZXgtZGlyZWN0aW9uOiByb3c7XFxufVxcblxcbi5zaGlwRGl2ID4gLnNoaXAgPiAqIHtcXG4gIGhlaWdodDogNDBweDtcXG4gIHdpZHRoOiA0MHB4O1xcbiAgYmFja2dyb3VuZDogdmFyKC0tZ3JleSk7XFxufVxcblxcbi8qIE1vZGFsICovXFxuXFxuLm1vZGFsQmcge1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgdG9wOiAwO1xcbiAgYm90dG9tOiAwO1xcbiAgbGVmdDogMDtcXG4gIHJpZ2h0OiAwO1xcbiAgYmFja2dyb3VuZDogIzAwMDAwMDY1O1xcblxcbiAgZGlzcGxheTogZmxleDtcXG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcXG59XFxuXFxuLm1vZGFsIHtcXG4gIGhlaWdodDogMzAwcHg7XFxuICB3aWR0aDogNTAwcHg7XFxuICBiYWNrZ3JvdW5kOiB3aGl0ZTtcXG4gIHBhZGRpbmc6IDIwcHg7XFxuICBib3JkZXItcmFkaXVzOiAxNHB4O1xcblxcbiAgZGlzcGxheTogZmxleDtcXG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XFxuICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWV2ZW5seTtcXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XFxufVxcblxcbi5tb2RhbCA+IC50ZXh0LFxcbi5tb2RhbCA+IC5idXR0b24ge1xcbiAgZm9udC1zaXplOiA0MHB4O1xcbiAgZm9udC1mYW1pbHk6IFxcXCJpbnRlclxcXCIsIHNhbnMtc2VyaWY7XFxuICBmb250LXdlaWdodDogNDAwO1xcbn1cXG5cXG4ubW9kYWwgPiAudGV4dCB7XFxuICBjb2xvcjogdmFyKC0tYmx1ZS1kYXJrKTtcXG59XFxuLm1vZGFsID4gLmJ1dHRvbiB7XFxuICBjb2xvcjogd2hpdGU7XFxuICBiYWNrZ3JvdW5kOiB2YXIoLS1ibHVlLWRhcmspO1xcbiAgcGFkZGluZzogMTJweCAyNHB4O1xcbiAgYm9yZGVyLXJhZGl1czogMTBweDtcXG4gIHRyYW5zaXRpb246IDIwMG1zO1xcbn1cXG5cXG4ubW9kYWwgPiAuYnV0dG9uOmhvdmVyIHtcXG4gIHRyYW5zZm9ybTogc2NhbGUoMS4wNSk7XFxuICBjdXJzb3I6IHBvaW50ZXI7XFxufVxcblwiXSxcInNvdXJjZVJvb3RcIjpcIlwifV0pO1xuLy8gRXhwb3J0c1xuZXhwb3J0IGRlZmF1bHQgX19fQ1NTX0xPQURFUl9FWFBPUlRfX187XG4iLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIHN0eWxlc0luRE9NID0gW107XG5mdW5jdGlvbiBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKSB7XG4gIHZhciByZXN1bHQgPSAtMTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdHlsZXNJbkRPTS5sZW5ndGg7IGkrKykge1xuICAgIGlmIChzdHlsZXNJbkRPTVtpXS5pZGVudGlmaWVyID09PSBpZGVudGlmaWVyKSB7XG4gICAgICByZXN1bHQgPSBpO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5mdW5jdGlvbiBtb2R1bGVzVG9Eb20obGlzdCwgb3B0aW9ucykge1xuICB2YXIgaWRDb3VudE1hcCA9IHt9O1xuICB2YXIgaWRlbnRpZmllcnMgPSBbXTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGl0ZW0gPSBsaXN0W2ldO1xuICAgIHZhciBpZCA9IG9wdGlvbnMuYmFzZSA/IGl0ZW1bMF0gKyBvcHRpb25zLmJhc2UgOiBpdGVtWzBdO1xuICAgIHZhciBjb3VudCA9IGlkQ291bnRNYXBbaWRdIHx8IDA7XG4gICAgdmFyIGlkZW50aWZpZXIgPSBcIlwiLmNvbmNhdChpZCwgXCIgXCIpLmNvbmNhdChjb3VudCk7XG4gICAgaWRDb3VudE1hcFtpZF0gPSBjb3VudCArIDE7XG4gICAgdmFyIGluZGV4QnlJZGVudGlmaWVyID0gZ2V0SW5kZXhCeUlkZW50aWZpZXIoaWRlbnRpZmllcik7XG4gICAgdmFyIG9iaiA9IHtcbiAgICAgIGNzczogaXRlbVsxXSxcbiAgICAgIG1lZGlhOiBpdGVtWzJdLFxuICAgICAgc291cmNlTWFwOiBpdGVtWzNdLFxuICAgICAgc3VwcG9ydHM6IGl0ZW1bNF0sXG4gICAgICBsYXllcjogaXRlbVs1XVxuICAgIH07XG4gICAgaWYgKGluZGV4QnlJZGVudGlmaWVyICE9PSAtMSkge1xuICAgICAgc3R5bGVzSW5ET01baW5kZXhCeUlkZW50aWZpZXJdLnJlZmVyZW5jZXMrKztcbiAgICAgIHN0eWxlc0luRE9NW2luZGV4QnlJZGVudGlmaWVyXS51cGRhdGVyKG9iaik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciB1cGRhdGVyID0gYWRkRWxlbWVudFN0eWxlKG9iaiwgb3B0aW9ucyk7XG4gICAgICBvcHRpb25zLmJ5SW5kZXggPSBpO1xuICAgICAgc3R5bGVzSW5ET00uc3BsaWNlKGksIDAsIHtcbiAgICAgICAgaWRlbnRpZmllcjogaWRlbnRpZmllcixcbiAgICAgICAgdXBkYXRlcjogdXBkYXRlcixcbiAgICAgICAgcmVmZXJlbmNlczogMVxuICAgICAgfSk7XG4gICAgfVxuICAgIGlkZW50aWZpZXJzLnB1c2goaWRlbnRpZmllcik7XG4gIH1cbiAgcmV0dXJuIGlkZW50aWZpZXJzO1xufVxuZnVuY3Rpb24gYWRkRWxlbWVudFN0eWxlKG9iaiwgb3B0aW9ucykge1xuICB2YXIgYXBpID0gb3B0aW9ucy5kb21BUEkob3B0aW9ucyk7XG4gIGFwaS51cGRhdGUob2JqKTtcbiAgdmFyIHVwZGF0ZXIgPSBmdW5jdGlvbiB1cGRhdGVyKG5ld09iaikge1xuICAgIGlmIChuZXdPYmopIHtcbiAgICAgIGlmIChuZXdPYmouY3NzID09PSBvYmouY3NzICYmIG5ld09iai5tZWRpYSA9PT0gb2JqLm1lZGlhICYmIG5ld09iai5zb3VyY2VNYXAgPT09IG9iai5zb3VyY2VNYXAgJiYgbmV3T2JqLnN1cHBvcnRzID09PSBvYmouc3VwcG9ydHMgJiYgbmV3T2JqLmxheWVyID09PSBvYmoubGF5ZXIpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgYXBpLnVwZGF0ZShvYmogPSBuZXdPYmopO1xuICAgIH0gZWxzZSB7XG4gICAgICBhcGkucmVtb3ZlKCk7XG4gICAgfVxuICB9O1xuICByZXR1cm4gdXBkYXRlcjtcbn1cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGxpc3QsIG9wdGlvbnMpIHtcbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gIGxpc3QgPSBsaXN0IHx8IFtdO1xuICB2YXIgbGFzdElkZW50aWZpZXJzID0gbW9kdWxlc1RvRG9tKGxpc3QsIG9wdGlvbnMpO1xuICByZXR1cm4gZnVuY3Rpb24gdXBkYXRlKG5ld0xpc3QpIHtcbiAgICBuZXdMaXN0ID0gbmV3TGlzdCB8fCBbXTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxhc3RJZGVudGlmaWVycy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGlkZW50aWZpZXIgPSBsYXN0SWRlbnRpZmllcnNbaV07XG4gICAgICB2YXIgaW5kZXggPSBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKTtcbiAgICAgIHN0eWxlc0luRE9NW2luZGV4XS5yZWZlcmVuY2VzLS07XG4gICAgfVxuICAgIHZhciBuZXdMYXN0SWRlbnRpZmllcnMgPSBtb2R1bGVzVG9Eb20obmV3TGlzdCwgb3B0aW9ucyk7XG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGxhc3RJZGVudGlmaWVycy5sZW5ndGg7IF9pKyspIHtcbiAgICAgIHZhciBfaWRlbnRpZmllciA9IGxhc3RJZGVudGlmaWVyc1tfaV07XG4gICAgICB2YXIgX2luZGV4ID0gZ2V0SW5kZXhCeUlkZW50aWZpZXIoX2lkZW50aWZpZXIpO1xuICAgICAgaWYgKHN0eWxlc0luRE9NW19pbmRleF0ucmVmZXJlbmNlcyA9PT0gMCkge1xuICAgICAgICBzdHlsZXNJbkRPTVtfaW5kZXhdLnVwZGF0ZXIoKTtcbiAgICAgICAgc3R5bGVzSW5ET00uc3BsaWNlKF9pbmRleCwgMSk7XG4gICAgICB9XG4gICAgfVxuICAgIGxhc3RJZGVudGlmaWVycyA9IG5ld0xhc3RJZGVudGlmaWVycztcbiAgfTtcbn07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBtZW1vID0ge307XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuZnVuY3Rpb24gZ2V0VGFyZ2V0KHRhcmdldCkge1xuICBpZiAodHlwZW9mIG1lbW9bdGFyZ2V0XSA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgIHZhciBzdHlsZVRhcmdldCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGFyZ2V0KTtcblxuICAgIC8vIFNwZWNpYWwgY2FzZSB0byByZXR1cm4gaGVhZCBvZiBpZnJhbWUgaW5zdGVhZCBvZiBpZnJhbWUgaXRzZWxmXG4gICAgaWYgKHdpbmRvdy5IVE1MSUZyYW1lRWxlbWVudCAmJiBzdHlsZVRhcmdldCBpbnN0YW5jZW9mIHdpbmRvdy5IVE1MSUZyYW1lRWxlbWVudCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgLy8gVGhpcyB3aWxsIHRocm93IGFuIGV4Y2VwdGlvbiBpZiBhY2Nlc3MgdG8gaWZyYW1lIGlzIGJsb2NrZWRcbiAgICAgICAgLy8gZHVlIHRvIGNyb3NzLW9yaWdpbiByZXN0cmljdGlvbnNcbiAgICAgICAgc3R5bGVUYXJnZXQgPSBzdHlsZVRhcmdldC5jb250ZW50RG9jdW1lbnQuaGVhZDtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgLy8gaXN0YW5idWwgaWdub3JlIG5leHRcbiAgICAgICAgc3R5bGVUYXJnZXQgPSBudWxsO1xuICAgICAgfVxuICAgIH1cbiAgICBtZW1vW3RhcmdldF0gPSBzdHlsZVRhcmdldDtcbiAgfVxuICByZXR1cm4gbWVtb1t0YXJnZXRdO1xufVxuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cbmZ1bmN0aW9uIGluc2VydEJ5U2VsZWN0b3IoaW5zZXJ0LCBzdHlsZSkge1xuICB2YXIgdGFyZ2V0ID0gZ2V0VGFyZ2V0KGluc2VydCk7XG4gIGlmICghdGFyZ2V0KSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiQ291bGRuJ3QgZmluZCBhIHN0eWxlIHRhcmdldC4gVGhpcyBwcm9iYWJseSBtZWFucyB0aGF0IHRoZSB2YWx1ZSBmb3IgdGhlICdpbnNlcnQnIHBhcmFtZXRlciBpcyBpbnZhbGlkLlwiKTtcbiAgfVxuICB0YXJnZXQuYXBwZW5kQ2hpbGQoc3R5bGUpO1xufVxubW9kdWxlLmV4cG9ydHMgPSBpbnNlcnRCeVNlbGVjdG9yOyIsIlwidXNlIHN0cmljdFwiO1xuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cbmZ1bmN0aW9uIGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zKSB7XG4gIHZhciBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpO1xuICBvcHRpb25zLnNldEF0dHJpYnV0ZXMoZWxlbWVudCwgb3B0aW9ucy5hdHRyaWJ1dGVzKTtcbiAgb3B0aW9ucy5pbnNlcnQoZWxlbWVudCwgb3B0aW9ucy5vcHRpb25zKTtcbiAgcmV0dXJuIGVsZW1lbnQ7XG59XG5tb2R1bGUuZXhwb3J0cyA9IGluc2VydFN0eWxlRWxlbWVudDsiLCJcInVzZSBzdHJpY3RcIjtcblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5mdW5jdGlvbiBzZXRBdHRyaWJ1dGVzV2l0aG91dEF0dHJpYnV0ZXMoc3R5bGVFbGVtZW50KSB7XG4gIHZhciBub25jZSA9IHR5cGVvZiBfX3dlYnBhY2tfbm9uY2VfXyAhPT0gXCJ1bmRlZmluZWRcIiA/IF9fd2VicGFja19ub25jZV9fIDogbnVsbDtcbiAgaWYgKG5vbmNlKSB7XG4gICAgc3R5bGVFbGVtZW50LnNldEF0dHJpYnV0ZShcIm5vbmNlXCIsIG5vbmNlKTtcbiAgfVxufVxubW9kdWxlLmV4cG9ydHMgPSBzZXRBdHRyaWJ1dGVzV2l0aG91dEF0dHJpYnV0ZXM7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuZnVuY3Rpb24gYXBwbHkoc3R5bGVFbGVtZW50LCBvcHRpb25zLCBvYmopIHtcbiAgdmFyIGNzcyA9IFwiXCI7XG4gIGlmIChvYmouc3VwcG9ydHMpIHtcbiAgICBjc3MgKz0gXCJAc3VwcG9ydHMgKFwiLmNvbmNhdChvYmouc3VwcG9ydHMsIFwiKSB7XCIpO1xuICB9XG4gIGlmIChvYmoubWVkaWEpIHtcbiAgICBjc3MgKz0gXCJAbWVkaWEgXCIuY29uY2F0KG9iai5tZWRpYSwgXCIge1wiKTtcbiAgfVxuICB2YXIgbmVlZExheWVyID0gdHlwZW9mIG9iai5sYXllciAhPT0gXCJ1bmRlZmluZWRcIjtcbiAgaWYgKG5lZWRMYXllcikge1xuICAgIGNzcyArPSBcIkBsYXllclwiLmNvbmNhdChvYmoubGF5ZXIubGVuZ3RoID4gMCA/IFwiIFwiLmNvbmNhdChvYmoubGF5ZXIpIDogXCJcIiwgXCIge1wiKTtcbiAgfVxuICBjc3MgKz0gb2JqLmNzcztcbiAgaWYgKG5lZWRMYXllcikge1xuICAgIGNzcyArPSBcIn1cIjtcbiAgfVxuICBpZiAob2JqLm1lZGlhKSB7XG4gICAgY3NzICs9IFwifVwiO1xuICB9XG4gIGlmIChvYmouc3VwcG9ydHMpIHtcbiAgICBjc3MgKz0gXCJ9XCI7XG4gIH1cbiAgdmFyIHNvdXJjZU1hcCA9IG9iai5zb3VyY2VNYXA7XG4gIGlmIChzb3VyY2VNYXAgJiYgdHlwZW9mIGJ0b2EgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICBjc3MgKz0gXCJcXG4vKiMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247YmFzZTY0LFwiLmNvbmNhdChidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShzb3VyY2VNYXApKSkpLCBcIiAqL1wiKTtcbiAgfVxuXG4gIC8vIEZvciBvbGQgSUVcbiAgLyogaXN0YW5idWwgaWdub3JlIGlmICAqL1xuICBvcHRpb25zLnN0eWxlVGFnVHJhbnNmb3JtKGNzcywgc3R5bGVFbGVtZW50LCBvcHRpb25zLm9wdGlvbnMpO1xufVxuZnVuY3Rpb24gcmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlRWxlbWVudCkge1xuICAvLyBpc3RhbmJ1bCBpZ25vcmUgaWZcbiAgaWYgKHN0eWxlRWxlbWVudC5wYXJlbnROb2RlID09PSBudWxsKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHN0eWxlRWxlbWVudC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHN0eWxlRWxlbWVudCk7XG59XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuZnVuY3Rpb24gZG9tQVBJKG9wdGlvbnMpIHtcbiAgaWYgKHR5cGVvZiBkb2N1bWVudCA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgIHJldHVybiB7XG4gICAgICB1cGRhdGU6IGZ1bmN0aW9uIHVwZGF0ZSgpIHt9LFxuICAgICAgcmVtb3ZlOiBmdW5jdGlvbiByZW1vdmUoKSB7fVxuICAgIH07XG4gIH1cbiAgdmFyIHN0eWxlRWxlbWVudCA9IG9wdGlvbnMuaW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMpO1xuICByZXR1cm4ge1xuICAgIHVwZGF0ZTogZnVuY3Rpb24gdXBkYXRlKG9iaikge1xuICAgICAgYXBwbHkoc3R5bGVFbGVtZW50LCBvcHRpb25zLCBvYmopO1xuICAgIH0sXG4gICAgcmVtb3ZlOiBmdW5jdGlvbiByZW1vdmUoKSB7XG4gICAgICByZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGVFbGVtZW50KTtcbiAgICB9XG4gIH07XG59XG5tb2R1bGUuZXhwb3J0cyA9IGRvbUFQSTsiLCJcInVzZSBzdHJpY3RcIjtcblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5mdW5jdGlvbiBzdHlsZVRhZ1RyYW5zZm9ybShjc3MsIHN0eWxlRWxlbWVudCkge1xuICBpZiAoc3R5bGVFbGVtZW50LnN0eWxlU2hlZXQpIHtcbiAgICBzdHlsZUVsZW1lbnQuc3R5bGVTaGVldC5jc3NUZXh0ID0gY3NzO1xuICB9IGVsc2Uge1xuICAgIHdoaWxlIChzdHlsZUVsZW1lbnQuZmlyc3RDaGlsZCkge1xuICAgICAgc3R5bGVFbGVtZW50LnJlbW92ZUNoaWxkKHN0eWxlRWxlbWVudC5maXJzdENoaWxkKTtcbiAgICB9XG4gICAgc3R5bGVFbGVtZW50LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcykpO1xuICB9XG59XG5tb2R1bGUuZXhwb3J0cyA9IHN0eWxlVGFnVHJhbnNmb3JtOyIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0aWQ6IG1vZHVsZUlkLFxuXHRcdGxvYWRlZDogZmFsc2UsXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuXHRtb2R1bGUubG9hZGVkID0gdHJ1ZTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsIi8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSAobW9kdWxlKSA9PiB7XG5cdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuXHRcdCgpID0+IChtb2R1bGVbJ2RlZmF1bHQnXSkgOlxuXHRcdCgpID0+IChtb2R1bGUpO1xuXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCB7IGE6IGdldHRlciB9KTtcblx0cmV0dXJuIGdldHRlcjtcbn07IiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gKGV4cG9ydHMsIGRlZmluaXRpb24pID0+IHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gKG9iaiwgcHJvcCkgPT4gKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApKSIsIl9fd2VicGFja19yZXF1aXJlX18ubm1kID0gKG1vZHVsZSkgPT4ge1xuXHRtb2R1bGUucGF0aHMgPSBbXTtcblx0aWYgKCFtb2R1bGUuY2hpbGRyZW4pIG1vZHVsZS5jaGlsZHJlbiA9IFtdO1xuXHRyZXR1cm4gbW9kdWxlO1xufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm5jID0gdW5kZWZpbmVkOyIsImltcG9ydCBQdWJTdWIgZnJvbSBcInB1YnN1Yi1qc1wiO1xuXG5jb25zdCBHYW1lQ29udHJvbGxlciA9IChwbGF5ZXJPbmUsIHBsYXllclR3bywgc2hpcHMpID0+IHtcbiAgcGxheWVyT25lLnNldE9wcG9uZW50KHBsYXllclR3byk7XG4gIHBsYXllclR3by5zZXRPcHBvbmVudChwbGF5ZXJPbmUpO1xuXG4gIGNvbnN0IHNldHVwID0gKCkgPT4ge1xuICAgIHNoaXBzLmZvckVhY2goKHNoaXApID0+IHBsYXllclR3by5wbGFjZVNoaXAoc2hpcCkpO1xuICB9O1xuXG4gIGNvbnN0IHBsYXkgPSAobXNnLCB7IHgsIHkgfSkgPT4ge1xuICAgIHBsYXllck9uZS5hdHRhY2soeCwgeSk7XG4gICAgaWYgKHBsYXllclR3by5oYXNOb1NoaXBzKCkpIHtcbiAgICAgIFB1YlN1Yi5wdWJsaXNoKFwiR0FNRV9PVkVSXCIsIHsgd2lubmVyOiBwbGF5ZXJPbmUuZ2V0TmFtZSgpIH0pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHBsYXllclR3by5hdHRhY2soKTtcbiAgICBpZiAocGxheWVyT25lLmhhc05vU2hpcHMoKSkge1xuICAgICAgUHViU3ViLnB1Ymxpc2goXCJHQU1FX09WRVJcIiwgeyB3aW5uZXI6IHBsYXllclR3by5nZXROYW1lKCkgfSk7XG4gICAgfVxuICB9O1xuXG4gIFB1YlN1Yi5zdWJzY3JpYmUoXCJBVFRBQ0tfQ0VMTFwiLCBwbGF5KTtcblxuICByZXR1cm4ge1xuICAgIHNldHVwLFxuICAgIHBsYXksXG4gIH07XG59O1xuXG5leHBvcnQgZGVmYXVsdCBHYW1lQ29udHJvbGxlcjtcbiIsImltcG9ydCBQdWJTdWIgZnJvbSBcInB1YnN1Yi1qc1wiO1xuaW1wb3J0IEdhbWVib2FyZCBmcm9tIFwiLi9HYW1lYm9hcmRcIjtcblxuY29uc3QgUGxheWVyID0gKG5hbWUgPSBcIlBsYXllclwiKSA9PiB7XG4gIGNvbnN0IGJvYXJkID0gR2FtZWJvYXJkKCk7XG4gIGxldCBvcHBvbmVudDtcblxuICBjb25zdCBnZXROYW1lID0gKCkgPT4gbmFtZTtcblxuICBjb25zdCBzZXRPcHBvbmVudCA9ICh2YWx1ZSkgPT4ge1xuICAgIG9wcG9uZW50ID0gdmFsdWU7XG4gIH07XG5cbiAgY29uc3QgcmVjZWl2ZUF0dGFjayA9ICh4LCB5KSA9PiB7XG4gICAgYm9hcmQucmVjZWl2ZUF0dGFjayh4LCB5KTtcbiAgICBQdWJTdWIucHVibGlzaChcIkFUVEFDS19SRUNFSVZFRFwiLCB7IHBsYXllcjogbmFtZSwgeCwgeSB9KTtcbiAgfTtcblxuICBjb25zdCBhdHRhY2sgPSAoeCwgeSkgPT4gb3Bwb25lbnQucmVjZWl2ZUF0dGFjayh4LCB5KTtcblxuICBjb25zdCBwbGFjZVNoaXAgPSAoeCwgeSwgbGVuZ3RoLCBheGlzKSA9PiB7XG4gICAgYm9hcmQucGxhY2VTaGlwKFxuICAgICAgcGFyc2VJbnQoeCwgMTApLFxuICAgICAgcGFyc2VJbnQoeSwgMTApLFxuICAgICAgcGFyc2VJbnQobGVuZ3RoLCAxMCksXG4gICAgICBheGlzXG4gICAgKTtcbiAgICBQdWJTdWIucHVibGlzaChcIlNISVBfUExBQ0VEXCIsIHsgcGxheWVyOiBuYW1lLCB4LCB5LCBsZW5ndGgsIGF4aXMgfSk7XG4gIH07XG5cbiAgUHViU3ViLnN1YnNjcmliZShcIlJRU1RfUExBQ0VfU0hJUFwiLCAobXNnLCB7IHgsIHksIGxlbmd0aCwgYXhpcywgcGxheWVyIH0pID0+IHtcbiAgICBpZiAocGxheWVyICE9PSBuYW1lKSByZXR1cm47XG4gICAgdHJ5IHtcbiAgICAgIHBsYWNlU2hpcCh4LCB5LCBsZW5ndGgsIGF4aXMpO1xuICAgIH0gY2F0Y2gge31cbiAgfSk7XG5cbiAgcmV0dXJuIHtcbiAgICAuLi5ib2FyZCxcbiAgICBnZXROYW1lLFxuICAgIHNldE9wcG9uZW50LFxuICAgIGF0dGFjayxcbiAgICByZWNlaXZlQXR0YWNrLFxuICAgIHBsYWNlU2hpcCxcbiAgfTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IFBsYXllcjtcbiIsImltcG9ydCBTaGlwIGZyb20gXCIuL1NoaXBcIjtcblxuY29uc3QgQ2VsbCA9ICgpID0+ICh7XG4gIGlzSGl0OiBmYWxzZSxcbn0pO1xuXG5jb25zdCBHYW1lYm9hcmQgPSAoKSA9PiB7XG4gIGxldCBzaGlwVG90YWwgPSAwO1xuXG4gIGNvbnN0IGJvYXJkID0gQXJyYXkoMTApXG4gICAgLmZpbGwoKVxuICAgIC5tYXAoKCkgPT4gQXJyYXkoMTApLmZpbGwoQ2VsbCgpKSk7XG5cbiAgY29uc3QgZ2V0Qm9hcmQgPSAoKSA9PiBib2FyZDtcblxuICBjb25zdCBwbGFjZVNoaXAgPSAoeCwgeSwgbGVuZ3RoLCBheGlzKSA9PiB7XG4gICAgaWYgKGF4aXMgPT09IFwieFwiKSB7XG4gICAgICBpZiAoeCArIGxlbmd0aCAtIDEgPiA5KSB0aHJvdyBuZXcgRXJyb3IoXCJQbGFjZW1lbnQgb3V0IG9mIGJvdW5kc1wiKTtcbiAgICB9IGVsc2UgaWYgKGF4aXMgPT09IFwieVwiKSB7XG4gICAgICBpZiAoeSAtIGxlbmd0aCArIDEgPCAwKSB0aHJvdyBuZXcgRXJyb3IoXCJQbGFjZW1lbnQgb3V0IG9mIGJvdW5kc1wiKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBheGlzIHByb3BcIik7XG4gICAgfVxuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7IGkgKz0gMSkge1xuICAgICAgY29uc3QgZGVsdGFYID0gYXhpcyA9PT0gXCJ4XCIgPyB4ICsgaSA6IHg7XG4gICAgICBjb25zdCBkZWx0YVkgPSBheGlzID09PSBcInlcIiA/IHkgLSBpIDogeTtcbiAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYm9hcmRbZGVsdGFYXVtkZWx0YVldLCBcInNoaXBcIikpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBwbGFjZW1lbnQ6IFNoaXBzIGNhbm5vdCBvdmVybGFwXCIpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IHNoaXAgPSBTaGlwKGxlbmd0aCk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7IGkgKz0gMSkge1xuICAgICAgY29uc3QgZGVsdGFYID0gYXhpcyA9PT0gXCJ4XCIgPyB4ICsgaSA6IHg7XG4gICAgICBjb25zdCBkZWx0YVkgPSBheGlzID09PSBcInlcIiA/IHkgLSBpIDogeTtcbiAgICAgIGJvYXJkW2RlbHRhWF1bZGVsdGFZXSA9IHsgLi4uYm9hcmRbZGVsdGFYXVtkZWx0YVldLCBzaGlwIH07XG4gICAgfVxuXG4gICAgc2hpcFRvdGFsICs9IDE7XG4gIH07XG5cbiAgY29uc3QgcmVjZWl2ZUF0dGFjayA9ICh4LCB5KSA9PiB7XG4gICAgaWYgKGJvYXJkW3hdW3ldLmlzSGl0KSB0aHJvdyBuZXcgRXJyb3IoXCJDZWxsIGhhcyBhbHJlYWR5IGJlZW4gaGl0XCIpO1xuICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYm9hcmRbeF1beV0sIFwic2hpcFwiKSkge1xuICAgICAgYm9hcmRbeF1beV0uc2hpcC5oaXQoKTtcbiAgICAgIGlmIChib2FyZFt4XVt5XS5zaGlwLmlzU3VuaygpKSBzaGlwVG90YWwgLT0gMTtcbiAgICB9XG4gICAgYm9hcmRbeF1beV0gPSB7IC4uLmJvYXJkW3hdW3ldLCBpc0hpdDogdHJ1ZSB9O1xuICB9O1xuXG4gIGNvbnN0IGhhc05vU2hpcHMgPSAoKSA9PiBzaGlwVG90YWwgPT09IDA7XG5cbiAgcmV0dXJuIHtcbiAgICBnZXRCb2FyZCxcbiAgICBwbGFjZVNoaXAsXG4gICAgcmVjZWl2ZUF0dGFjayxcbiAgICBoYXNOb1NoaXBzLFxuICB9O1xufTtcblxuZXhwb3J0IGRlZmF1bHQgR2FtZWJvYXJkO1xuIiwiY29uc3QgU2hpcCA9IChsZW5ndGgpID0+IHtcbiAgbGV0IGhpdHMgPSAwO1xuICByZXR1cm4ge1xuICAgIGhpdCgpIHtcbiAgICAgIGlmIChoaXRzIDwgbGVuZ3RoKSBoaXRzICs9IDE7XG4gICAgICByZXR1cm4gaGl0cztcbiAgICB9LFxuICAgIGlzU3VuaygpIHtcbiAgICAgIHJldHVybiBoaXRzID49IGxlbmd0aDtcbiAgICB9LFxuICAgIGdldEhpdHMoKSB7XG4gICAgICByZXR1cm4gaGl0cztcbiAgICB9LFxuICB9O1xufTtcblxuZXhwb3J0IGRlZmF1bHQgU2hpcDtcbiIsIlxuICAgICAgaW1wb3J0IEFQSSBmcm9tIFwiIS4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luamVjdFN0eWxlc0ludG9TdHlsZVRhZy5qc1wiO1xuICAgICAgaW1wb3J0IGRvbUFQSSBmcm9tIFwiIS4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3N0eWxlRG9tQVBJLmpzXCI7XG4gICAgICBpbXBvcnQgaW5zZXJ0Rm4gZnJvbSBcIiEuLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbnNlcnRCeVNlbGVjdG9yLmpzXCI7XG4gICAgICBpbXBvcnQgc2V0QXR0cmlidXRlcyBmcm9tIFwiIS4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3NldEF0dHJpYnV0ZXNXaXRob3V0QXR0cmlidXRlcy5qc1wiO1xuICAgICAgaW1wb3J0IGluc2VydFN0eWxlRWxlbWVudCBmcm9tIFwiIS4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luc2VydFN0eWxlRWxlbWVudC5qc1wiO1xuICAgICAgaW1wb3J0IHN0eWxlVGFnVHJhbnNmb3JtRm4gZnJvbSBcIiEuLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zdHlsZVRhZ1RyYW5zZm9ybS5qc1wiO1xuICAgICAgaW1wb3J0IGNvbnRlbnQsICogYXMgbmFtZWRFeHBvcnQgZnJvbSBcIiEhLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi9zdHlsZS5jc3NcIjtcbiAgICAgIFxuICAgICAgXG5cbnZhciBvcHRpb25zID0ge307XG5cbm9wdGlvbnMuc3R5bGVUYWdUcmFuc2Zvcm0gPSBzdHlsZVRhZ1RyYW5zZm9ybUZuO1xub3B0aW9ucy5zZXRBdHRyaWJ1dGVzID0gc2V0QXR0cmlidXRlcztcblxuICAgICAgb3B0aW9ucy5pbnNlcnQgPSBpbnNlcnRGbi5iaW5kKG51bGwsIFwiaGVhZFwiKTtcbiAgICBcbm9wdGlvbnMuZG9tQVBJID0gZG9tQVBJO1xub3B0aW9ucy5pbnNlcnRTdHlsZUVsZW1lbnQgPSBpbnNlcnRTdHlsZUVsZW1lbnQ7XG5cbnZhciB1cGRhdGUgPSBBUEkoY29udGVudCwgb3B0aW9ucyk7XG5cblxuXG5leHBvcnQgKiBmcm9tIFwiISEuLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL3N0eWxlLmNzc1wiO1xuICAgICAgIGV4cG9ydCBkZWZhdWx0IGNvbnRlbnQgJiYgY29udGVudC5sb2NhbHMgPyBjb250ZW50LmxvY2FscyA6IHVuZGVmaW5lZDtcbiIsImltcG9ydCBQdWJTdWIgZnJvbSBcInB1YnN1Yi1qc1wiO1xuaW1wb3J0IEdhbWVDb250cm9sbGVyIGZyb20gXCIuL0dhbWVDb250cm9sbGVyXCI7XG5pbXBvcnQgRGlzcGxheUNvbnRyb2xsZXIgZnJvbSBcIi4vRGlzcGxheUNvbnRyb2xsZXJcIjtcbmltcG9ydCBQbGF5ZXIgZnJvbSBcIi4vUGxheWVyXCI7XG5pbXBvcnQgQUlQbGF5ZXIgZnJvbSBcIi4vQUlQbGF5ZXJcIjtcbmltcG9ydCBcIi4vc3R5bGUuY3NzXCI7XG5cbmNvbnN0IHNoaXBzID0gWzIsIDMsIDMsIDQsIDVdO1xuY29uc3QgcGxheWVyT25lID0gUGxheWVyKFwicGxheWVyT25lXCIpO1xuY29uc3QgcGxheWVyVHdvID0gQUlQbGF5ZXIoKTtcblxuY29uc3QgZ2FtZSA9IEdhbWVDb250cm9sbGVyKHBsYXllck9uZSwgcGxheWVyVHdvLCBzaGlwcyk7XG5jb25zdCBkaXNwbGF5ID0gRGlzcGxheUNvbnRyb2xsZXIoKTtcblxuZGlzcGxheS5ib2FyZFNldHVwKHBsYXllck9uZS5nZXROYW1lKCksIHNoaXBzKTtcblxuUHViU3ViLnN1YnNjcmliZShcIkFMTF9TSElQU19QTEFDRURcIiwgKCkgPT4ge1xuICBnYW1lLnNldHVwKCk7XG4gIGRpc3BsYXkubmV3R3JpZChwbGF5ZXJUd28uZ2V0TmFtZSgpKTtcbn0pO1xuIiwiaW1wb3J0IFBsYXllciBmcm9tIFwiLi9QbGF5ZXJcIjtcblxuY29uc3QgQUlQbGF5ZXIgPSAoKSA9PiB7XG4gIGNvbnN0IHBsYXllciA9IFBsYXllcihcInBsYXllclR3b1wiKTtcblxuICBjb25zdCBwbGFjZVNoaXAgPSAobGVuZ3RoKSA9PiB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCAxMDA7IGkgKz0gMSkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgeCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEwKTtcbiAgICAgICAgY29uc3QgeSA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEwKTtcbiAgICAgICAgY29uc3QgYXhpcyA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDIpID09PSAwID8gXCJ4XCIgOiBcInlcIjtcbiAgICAgICAgcGxheWVyLnBsYWNlU2hpcCh4LCB5LCBsZW5ndGgsIGF4aXMpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9IGNhdGNoIChlcnJvcikge31cbiAgICB9XG5cbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbmFibGUgdG8gZ2VuZXJhdGUgc2hpcCBwbGFjZW1lbnRcIik7XG4gIH07XG5cbiAgY29uc3QgYXR0YWNrID0gKCkgPT4ge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMTAwOyBpICs9IDEpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHggPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMCk7XG4gICAgICAgIGNvbnN0IHkgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMCk7XG4gICAgICAgIHBsYXllci5hdHRhY2soeCwgeSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7fVxuICAgIH1cbiAgfTtcblxuICByZXR1cm4ge1xuICAgIC4uLnBsYXllcixcbiAgICBwbGFjZVNoaXAsXG4gICAgYXR0YWNrLFxuICB9O1xufTtcblxuZXhwb3J0IGRlZmF1bHQgQUlQbGF5ZXI7XG4iLCJpbXBvcnQgUHViU3ViIGZyb20gXCJwdWJzdWItanNcIjtcblxuY29uc3QgRGlzcGxheUNvbnRyb2xsZXIgPSAoKSA9PiB7XG4gIGNvbnN0IGdldENlbGwgPSAoeCwgeSkgPT4ge1xuICAgIGNvbnN0IGNlbGwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIGNlbGwuZGF0YXNldC54ID0geDtcbiAgICBjZWxsLmRhdGFzZXQueSA9IHk7XG4gICAgY2VsbC5jbGFzc0xpc3QuYWRkKFwiY2VsbFwiKTtcblxuICAgIGNlbGwuYWRkRXZlbnRMaXN0ZW5lcihcImRyYWdvdmVyXCIsIChldmVudCkgPT4ge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGV2ZW50LmRhdGFUcmFuc2Zlci5kcm9wRWZmZWN0ID0gXCJtb3ZlXCI7XG4gICAgfSk7XG5cbiAgICBjZWxsLmFkZEV2ZW50TGlzdGVuZXIoXCJkcm9wXCIsIChldmVudCkgPT4ge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgY29uc3QgZGF0YSA9IEpTT04ucGFyc2UoZXZlbnQuZGF0YVRyYW5zZmVyLmdldERhdGEoXCJ0ZXh0L3BsYWluXCIpKTtcbiAgICAgIGNvbnN0IHhDb29yZCA9IHBhcnNlSW50KGV2ZW50LmN1cnJlbnRUYXJnZXQuZGF0YXNldC54LCAxMCk7XG4gICAgICBjb25zdCB5Q29vcmQgPSBwYXJzZUludChldmVudC5jdXJyZW50VGFyZ2V0LmRhdGFzZXQueSwgMTApO1xuXG4gICAgICBQdWJTdWIucHVibGlzaChcIlJRU1RfUExBQ0VfU0hJUFwiLCB7XG4gICAgICAgIC4uLmRhdGEsXG4gICAgICAgIHg6IGRhdGEuYXhpcyA9PT0gXCJ4XCIgPyB4Q29vcmQgLSBkYXRhLmNlbGwgOiB4Q29vcmQsXG4gICAgICAgIHk6IGRhdGEuYXhpcyA9PT0gXCJ5XCIgPyB5Q29vcmQgKyBkYXRhLmNlbGwgOiB5Q29vcmQsXG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIHJldHVybiBjZWxsO1xuICB9O1xuXG4gIGNvbnN0IGF0dGFja0NlbGwgPSAoZXZlbnQpID0+IHtcbiAgICBQdWJTdWIucHVibGlzaChcIkFUVEFDS19DRUxMXCIsIHtcbiAgICAgIHg6IGV2ZW50LmN1cnJlbnRUYXJnZXQuZGF0YXNldC54LFxuICAgICAgeTogZXZlbnQuY3VycmVudFRhcmdldC5kYXRhc2V0LnksXG4gICAgfSk7XG4gICAgZXZlbnQuY3VycmVudFRhcmdldC5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgYXR0YWNrQ2VsbCk7XG4gIH07XG5cbiAgY29uc3QgZ2V0R3JpZCA9IChwbGF5ZXIpID0+IHtcbiAgICBjb25zdCBncmlkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICBncmlkLmNsYXNzTGlzdC5hZGQoXCJncmlkXCIsIHBsYXllcik7XG4gICAgZm9yIChsZXQgeCA9IDA7IHggPCAxMDsgeCArPSAxKSB7XG4gICAgICBmb3IgKGxldCB5ID0gMDsgeSA8IDEwOyB5ICs9IDEpIHtcbiAgICAgICAgY29uc3QgY2VsbCA9IGdldENlbGwoeCwgeSk7XG4gICAgICAgIGlmIChwbGF5ZXIgIT09IFwicGxheWVyT25lXCIpIHtcbiAgICAgICAgICBjZWxsLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBhdHRhY2tDZWxsKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGdyaWQuYXBwZW5kQ2hpbGQoY2VsbCk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBncmlkO1xuICB9O1xuXG4gIGNvbnN0IG5ld0dyaWQgPSAocGxheWVyKSA9PiB7XG4gICAgY29uc3QgZGl2ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jb250ZW50XCIpO1xuICAgIGRpdi5hcHBlbmRDaGlsZChnZXRHcmlkKHBsYXllcikpO1xuICB9O1xuXG4gIGNvbnN0IHBsYWNlU2hpcCA9IChtc2csIHsgcGxheWVyLCB4LCB5LCBsZW5ndGgsIGF4aXMgfSkgPT4ge1xuICAgIGNvbnN0IGJvYXJkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLmdyaWQuJHtwbGF5ZXJ9YCk7XG4gICAgY29uc3QgeEludCA9IHBhcnNlSW50KHgsIDEwKTtcbiAgICBjb25zdCB5SW50ID0gcGFyc2VJbnQoeSwgMTApO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7IGkgKz0gMSkge1xuICAgICAgY29uc3QgZGVsdGFYID0gYXhpcyA9PT0gXCJ4XCIgPyB4SW50ICsgaSA6IHhJbnQ7XG4gICAgICBjb25zdCBkZWx0YVkgPSBheGlzID09PSBcInlcIiA/IHlJbnQgLSBpIDogeUludDtcbiAgICAgIGNvbnN0IGNlbGwgPSBib2FyZC5xdWVyeVNlbGVjdG9yKFxuICAgICAgICBgW2RhdGEteD0nJHtkZWx0YVh9J11bZGF0YS15PScke2RlbHRhWX0nXWBcbiAgICAgICk7XG4gICAgICBjZWxsLmNsYXNzTGlzdC5hZGQoXCJzaGlwXCIpO1xuICAgIH1cblxuICAgIGNvbnN0IHNoaXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAuc2hpcFtkYXRhLWxlbmd0aD0nJHtsZW5ndGh9J11gKTtcbiAgICBpZiAoIXNoaXApIHJldHVybjtcbiAgICBzaGlwLnJlbW92ZSgpO1xuXG4gICAgY29uc3Qgc2hpcERpdiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuc2hpcERpdlwiKTtcbiAgICBpZiAoIXNoaXBEaXYuaGFzQ2hpbGROb2RlcygpKSB7XG4gICAgICBzaGlwRGl2LnBhcmVudE5vZGUucmVtb3ZlKCk7XG4gICAgICBQdWJTdWIucHVibGlzaChcIkFMTF9TSElQU19QTEFDRURcIik7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IHJlY2VpdmVBdHRhY2sgPSAobXNnLCB7IHBsYXllciwgeCwgeSB9KSA9PiB7XG4gICAgY29uc3QgYm9hcmQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAuZ3JpZC4ke3BsYXllcn1gKTtcbiAgICBjb25zdCBjZWxsID0gYm9hcmQucXVlcnlTZWxlY3RvcihgW2RhdGEteD0nJHt4fSddW2RhdGEteT0nJHt5fSddYCk7XG4gICAgY2VsbC5jbGFzc0xpc3QuYWRkKFwiaGl0XCIpO1xuICB9O1xuXG4gIGNvbnN0IGdhbWVPdmVyID0gKG1zZywgeyB3aW5uZXIgfSkgPT4ge1xuICAgIGNvbnN0IGNlbGxzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5wbGF5ZXJUd28+LmNlbGxcIik7XG4gICAgY2VsbHMuZm9yRWFjaCgoY2VsbCkgPT4gY2VsbC5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgYXR0YWNrQ2VsbCkpO1xuXG4gICAgY29uc3QgY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jb250ZW50XCIpO1xuICAgIGNvbnN0IG1vZGFsQmcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIGNvbnN0IG1vZGFsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICBjb25zdCB0ZXh0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICBjb25zdCBidXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuXG4gICAgbW9kYWxCZy5jbGFzc0xpc3QuYWRkKFwibW9kYWxCZ1wiKTtcbiAgICBtb2RhbC5jbGFzc0xpc3QuYWRkKFwibW9kYWxcIik7XG4gICAgdGV4dC5jbGFzc0xpc3QuYWRkKFwidGV4dFwiKTtcbiAgICBidXR0b24uY2xhc3NMaXN0LmFkZChcImJ1dHRvblwiKTtcblxuICAgIHRleHQudGV4dENvbnRlbnQgPSBgWW91ICR7d2lubmVyID09PSBcInBsYXllck9uZVwiID8gXCJ3b25cIiA6IFwibG9zdFwifWA7XG4gICAgYnV0dG9uLnRleHRDb250ZW50ID0gXCJQbGF5IGFnYWluXCI7XG5cbiAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKSk7XG5cbiAgICBtb2RhbC5hcHBlbmRDaGlsZCh0ZXh0KTtcbiAgICBtb2RhbC5hcHBlbmRDaGlsZChidXR0b24pO1xuICAgIG1vZGFsQmcuYXBwZW5kQ2hpbGQobW9kYWwpO1xuICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChtb2RhbEJnKTtcbiAgfTtcblxuICBjb25zdCBjdXJyZW50Q2VsbE9mZnNldCA9IChldmVudCkgPT4ge1xuICAgIGNvbnN0IHsgYXhpcywgbGVuZ3RoIH0gPSBldmVudC5jdXJyZW50VGFyZ2V0LmRhdGFzZXQ7XG4gICAgaWYgKGF4aXMgPT09IFwieFwiKSB7XG4gICAgICBjb25zdCBjZWxsU2l6ZSA9IGV2ZW50LmN1cnJlbnRUYXJnZXQub2Zmc2V0SGVpZ2h0IC8gbGVuZ3RoO1xuICAgICAgcmV0dXJuIE1hdGguZmxvb3IoZXZlbnQub2Zmc2V0WSAvIGNlbGxTaXplKTtcbiAgICB9XG5cbiAgICBjb25zdCBjZWxsU2l6ZSA9IGV2ZW50LmN1cnJlbnRUYXJnZXQub2Zmc2V0V2lkdGggLyBsZW5ndGg7XG4gICAgcmV0dXJuIE1hdGguZmxvb3IoXG4gICAgICAoZXZlbnQuY3VycmVudFRhcmdldC5vZmZzZXRXaWR0aCAtIGV2ZW50Lm9mZnNldFgpIC8gY2VsbFNpemVcbiAgICApO1xuICB9O1xuXG4gIGNvbnN0IGJvYXJkU2V0dXAgPSAocGxheWVyLCBzaGlwcykgPT4ge1xuICAgIG5ld0dyaWQoXCJwbGF5ZXJPbmVcIik7XG4gICAgY29uc3QgY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jb250ZW50XCIpO1xuICAgIGNvbnN0IHNoaXBTZWxlY3Rpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIHNoaXBTZWxlY3Rpb24uY2xhc3NMaXN0LmFkZChcInNoaXBTZWxlY3Rpb25cIik7XG5cbiAgICBjb25zdCBzaGlwVGV4dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpO1xuICAgIHNoaXBUZXh0LnRleHRDb250ZW50ID0gXCJEb3VibGUgY2xpY2sgdG8gcm90YXRlXCI7XG5cbiAgICBjb25zdCBzaGlwRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICBzaGlwRGl2LmNsYXNzTGlzdC5hZGQoXCJzaGlwRGl2XCIpO1xuXG4gICAgc2hpcHMuZm9yRWFjaCgoc2hpcCkgPT4ge1xuICAgICAgY29uc3Qgc2hpcEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgc2hpcEVsZW1lbnQuZGF0YXNldC5sZW5ndGggPSBzaGlwO1xuICAgICAgc2hpcEVsZW1lbnQuZGF0YXNldC5heGlzID0gXCJ4XCI7XG4gICAgICBzaGlwRWxlbWVudC5jbGFzc0xpc3QuYWRkKFwic2hpcFwiKTtcbiAgICAgIHNoaXBFbGVtZW50LmRyYWdnYWJsZSA9IHRydWU7XG5cbiAgICAgIHNoaXBFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJkcmFnc3RhcnRcIiwgKGV2ZW50KSA9PiB7XG4gICAgICAgIGV2ZW50LmRhdGFUcmFuc2Zlci5zZXREYXRhKFxuICAgICAgICAgIFwidGV4dC9wbGFpblwiLFxuICAgICAgICAgIEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgIGxlbmd0aDogZXZlbnQuY3VycmVudFRhcmdldC5kYXRhc2V0Lmxlbmd0aCxcbiAgICAgICAgICAgIGF4aXM6IGV2ZW50LmN1cnJlbnRUYXJnZXQuZGF0YXNldC5heGlzLFxuICAgICAgICAgICAgY2VsbDogY3VycmVudENlbGxPZmZzZXQoZXZlbnQpLFxuICAgICAgICAgICAgcGxheWVyLFxuICAgICAgICAgIH0pXG4gICAgICAgICk7XG4gICAgICB9KTtcblxuICAgICAgc2hpcEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImRibGNsaWNrXCIsIChldmVudCkgPT4ge1xuICAgICAgICBjb25zdCBlbGVtID0gZXZlbnQuY3VycmVudFRhcmdldDtcbiAgICAgICAgZWxlbS5kYXRhc2V0LmF4aXMgPSBlbGVtLmRhdGFzZXQuYXhpcyA9PT0gXCJ4XCIgPyBcInlcIiA6IFwieFwiO1xuICAgICAgfSk7XG5cbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2hpcDsgaSArPSAxKSB7XG4gICAgICAgIGNvbnN0IGNlbGwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICBzaGlwRWxlbWVudC5hcHBlbmRDaGlsZChjZWxsKTtcbiAgICAgIH1cblxuICAgICAgc2hpcERpdi5hcHBlbmRDaGlsZChzaGlwRWxlbWVudCk7XG4gICAgfSk7XG5cbiAgICBzaGlwU2VsZWN0aW9uLmFwcGVuZENoaWxkKHNoaXBUZXh0KTtcbiAgICBzaGlwU2VsZWN0aW9uLmFwcGVuZENoaWxkKHNoaXBEaXYpO1xuICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChzaGlwU2VsZWN0aW9uKTtcbiAgfTtcblxuICBQdWJTdWIuc3Vic2NyaWJlKFwiU0hJUF9QTEFDRURcIiwgcGxhY2VTaGlwKTtcbiAgUHViU3ViLnN1YnNjcmliZShcIkFUVEFDS19SRUNFSVZFRFwiLCByZWNlaXZlQXR0YWNrKTtcbiAgUHViU3ViLnN1YnNjcmliZShcIkdBTUVfT1ZFUlwiLCBnYW1lT3Zlcik7XG5cbiAgcmV0dXJuIHtcbiAgICBnZXRDZWxsLFxuICAgIGdldEdyaWQsXG4gICAgbmV3R3JpZCxcbiAgICBib2FyZFNldHVwLFxuICB9O1xufTtcblxuZXhwb3J0IGRlZmF1bHQgRGlzcGxheUNvbnRyb2xsZXI7XG4iXSwibmFtZXMiOlsibW9kdWxlIiwiZXhwb3J0cyIsImNzc1dpdGhNYXBwaW5nVG9TdHJpbmciLCJsaXN0IiwidG9TdHJpbmciLCJ0aGlzIiwibWFwIiwiaXRlbSIsImNvbnRlbnQiLCJuZWVkTGF5ZXIiLCJjb25jYXQiLCJsZW5ndGgiLCJqb2luIiwiaSIsIm1vZHVsZXMiLCJtZWRpYSIsImRlZHVwZSIsInN1cHBvcnRzIiwibGF5ZXIiLCJ1bmRlZmluZWQiLCJhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzIiwiayIsImlkIiwiX2siLCJwdXNoIiwiY3NzTWFwcGluZyIsImJ0b2EiLCJiYXNlNjQiLCJ1bmVzY2FwZSIsImVuY29kZVVSSUNvbXBvbmVudCIsIkpTT04iLCJzdHJpbmdpZnkiLCJkYXRhIiwic291cmNlTWFwcGluZyIsInJvb3QiLCJmYWN0b3J5IiwiUHViU3ViIiwiY29uc29sZSIsIndhcm4iLCJtZXNzYWdlcyIsImxhc3RVaWQiLCJBTExfU1VCU0NSSUJJTkdfTVNHIiwiY2FsbFN1YnNjcmliZXJXaXRoRGVsYXllZEV4Y2VwdGlvbnMiLCJzdWJzY3JpYmVyIiwibWVzc2FnZSIsImV4Iiwic2V0VGltZW91dCIsInRocm93RXhjZXB0aW9uIiwiY2FsbFN1YnNjcmliZXJXaXRoSW1tZWRpYXRlRXhjZXB0aW9ucyIsImRlbGl2ZXJNZXNzYWdlIiwib3JpZ2luYWxNZXNzYWdlIiwibWF0Y2hlZE1lc3NhZ2UiLCJpbW1lZGlhdGVFeGNlcHRpb25zIiwicyIsInN1YnNjcmliZXJzIiwiY2FsbFN1YnNjcmliZXIiLCJPYmplY3QiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJoYXNEaXJlY3RTdWJzY3JpYmVyc0ZvciIsInRvcGljIiwiU3RyaW5nIiwiQm9vbGVhbiIsIm9iaiIsImtleSIsImhhc0tleXMiLCJwdWJsaXNoIiwic3luYyIsImRlbGl2ZXIiLCJwb3NpdGlvbiIsImxhc3RJbmRleE9mIiwic3Vic3RyIiwiY3JlYXRlRGVsaXZlcnlGdW5jdGlvbiIsImZvdW5kIiwibWVzc2FnZUhhc1N1YnNjcmliZXJzIiwicHVibGlzaFN5bmMiLCJzdWJzY3JpYmUiLCJmdW5jIiwidG9rZW4iLCJzdWJzY3JpYmVBbGwiLCJzdWJzY3JpYmVPbmNlIiwidW5zdWJzY3JpYmUiLCJhcHBseSIsImFyZ3VtZW50cyIsImNsZWFyQWxsU3Vic2NyaXB0aW9ucyIsImNsZWFyU3Vic2NyaXB0aW9ucyIsIm0iLCJpbmRleE9mIiwiY291bnRTdWJzY3JpcHRpb25zIiwiY291bnQiLCJnZXRTdWJzY3JpcHRpb25zIiwidmFsdWUiLCJ0IiwiaXNUb3BpYyIsImRlc2NlbmRhbnRUb3BpY0V4aXN0cyIsImlzVG9rZW4iLCJpc0Z1bmN0aW9uIiwicmVzdWx0Iiwid2luZG93IiwiX19fQ1NTX0xPQURFUl9FWFBPUlRfX18iLCJzdHlsZXNJbkRPTSIsImdldEluZGV4QnlJZGVudGlmaWVyIiwiaWRlbnRpZmllciIsIm1vZHVsZXNUb0RvbSIsIm9wdGlvbnMiLCJpZENvdW50TWFwIiwiaWRlbnRpZmllcnMiLCJiYXNlIiwiaW5kZXhCeUlkZW50aWZpZXIiLCJjc3MiLCJzb3VyY2VNYXAiLCJyZWZlcmVuY2VzIiwidXBkYXRlciIsImFkZEVsZW1lbnRTdHlsZSIsImJ5SW5kZXgiLCJzcGxpY2UiLCJhcGkiLCJkb21BUEkiLCJ1cGRhdGUiLCJuZXdPYmoiLCJyZW1vdmUiLCJsYXN0SWRlbnRpZmllcnMiLCJuZXdMaXN0IiwiaW5kZXgiLCJuZXdMYXN0SWRlbnRpZmllcnMiLCJfaSIsIl9pbmRleCIsIm1lbW8iLCJpbnNlcnQiLCJzdHlsZSIsInRhcmdldCIsInN0eWxlVGFyZ2V0IiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiSFRNTElGcmFtZUVsZW1lbnQiLCJjb250ZW50RG9jdW1lbnQiLCJoZWFkIiwiZSIsImdldFRhcmdldCIsIkVycm9yIiwiYXBwZW5kQ2hpbGQiLCJlbGVtZW50IiwiY3JlYXRlRWxlbWVudCIsInNldEF0dHJpYnV0ZXMiLCJhdHRyaWJ1dGVzIiwic3R5bGVFbGVtZW50Iiwibm9uY2UiLCJzZXRBdHRyaWJ1dGUiLCJpbnNlcnRTdHlsZUVsZW1lbnQiLCJzdHlsZVRhZ1RyYW5zZm9ybSIsInBhcmVudE5vZGUiLCJyZW1vdmVDaGlsZCIsInJlbW92ZVN0eWxlRWxlbWVudCIsInN0eWxlU2hlZXQiLCJjc3NUZXh0IiwiZmlyc3RDaGlsZCIsImNyZWF0ZVRleHROb2RlIiwiX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiY2FjaGVkTW9kdWxlIiwibG9hZGVkIiwiX193ZWJwYWNrX21vZHVsZXNfXyIsIm4iLCJnZXR0ZXIiLCJfX2VzTW9kdWxlIiwiZCIsImEiLCJkZWZpbml0aW9uIiwibyIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInByb3AiLCJubWQiLCJwYXRocyIsImNoaWxkcmVuIiwibmMiLCJQbGF5ZXIiLCJuYW1lIiwiYm9hcmQiLCJHYW1lYm9hcmQiLCJzaGlwVG90YWwiLCJBcnJheSIsImZpbGwiLCJpc0hpdCIsImdldEJvYXJkIiwicGxhY2VTaGlwIiwieCIsInkiLCJheGlzIiwiZGVsdGFYIiwiZGVsdGFZIiwic2hpcCIsImhpdHMiLCJoaXQiLCJpc1N1bmsiLCJnZXRIaXRzIiwiU2hpcCIsInJlY2VpdmVBdHRhY2siLCJoYXNOb1NoaXBzIiwib3Bwb25lbnQiLCJwYXJzZUludCIsInBsYXllciIsIm1zZyIsImdldE5hbWUiLCJzZXRPcHBvbmVudCIsImF0dGFjayIsImxvY2FscyIsInNoaXBzIiwicGxheWVyT25lIiwicGxheWVyVHdvIiwiQUlQbGF5ZXIiLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJlcnJvciIsImdhbWUiLCJHYW1lQ29udHJvbGxlciIsInBsYXkiLCJ3aW5uZXIiLCJzZXR1cCIsImZvckVhY2giLCJkaXNwbGF5IiwiRGlzcGxheUNvbnRyb2xsZXIiLCJnZXRDZWxsIiwiY2VsbCIsImRhdGFzZXQiLCJjbGFzc0xpc3QiLCJhZGQiLCJhZGRFdmVudExpc3RlbmVyIiwiZXZlbnQiLCJwcmV2ZW50RGVmYXVsdCIsImRhdGFUcmFuc2ZlciIsImRyb3BFZmZlY3QiLCJwYXJzZSIsImdldERhdGEiLCJ4Q29vcmQiLCJjdXJyZW50VGFyZ2V0IiwieUNvb3JkIiwiYXR0YWNrQ2VsbCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJnZXRHcmlkIiwiZ3JpZCIsIm5ld0dyaWQiLCJjdXJyZW50Q2VsbE9mZnNldCIsImNlbGxTaXplIiwib2Zmc2V0SGVpZ2h0Iiwib2Zmc2V0WSIsIm9mZnNldFdpZHRoIiwib2Zmc2V0WCIsInhJbnQiLCJ5SW50Iiwic2hpcERpdiIsImhhc0NoaWxkTm9kZXMiLCJnYW1lT3ZlciIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJjb250YWluZXIiLCJtb2RhbEJnIiwibW9kYWwiLCJ0ZXh0IiwiYnV0dG9uIiwidGV4dENvbnRlbnQiLCJsb2NhdGlvbiIsInJlbG9hZCIsImJvYXJkU2V0dXAiLCJzaGlwU2VsZWN0aW9uIiwic2hpcFRleHQiLCJzaGlwRWxlbWVudCIsImRyYWdnYWJsZSIsInNldERhdGEiLCJlbGVtIl0sInNvdXJjZVJvb3QiOiIifQ==